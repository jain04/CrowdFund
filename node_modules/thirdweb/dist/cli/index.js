#!/usr/bin/env node
"use strict";var Hf=Object.create;var Ri=Object.defineProperty;var zf=Object.getOwnPropertyDescriptor;var Yf=Object.getOwnPropertyNames;var Kf=Object.getPrototypeOf,Xf=Object.prototype.hasOwnProperty;var Zf=(e,t,r)=>t in e?Ri(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var k=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Qf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Yf(t))!Xf.call(e,i)&&i!==r&&Ri(e,i,{get:()=>t[i],enumerable:!(n=zf(t,i))||n.enumerable});return e};var x=(e,t,r)=>(r=e!=null?Hf(Kf(e)):{},Qf(t||!e||!e.__esModule?Ri(r,"default",{value:e,enumerable:!0}):r,e));var ha=(e,t,r)=>(Zf(e,typeof t!="symbol"?t+"":t,r),r),ga=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var g=(e,t,r)=>(ga(e,t,"read from private field"),r?r.call(e):t.get(e)),L=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},T=(e,t,r,n)=>(ga(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Vt=(e,t,r,n)=>({set _(i){T(e,t,i,r)},get _(){return g(e,t,n)}});var ja=k((zm,Ai)=>{"use strict";var Fa=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Ai.exports=Fa;Ai.exports.default=Fa});var Aa=k((Ym,Pn)=>{"use strict";var gp=ja(),Cn=new WeakMap,$a=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,i=e.displayName||e.name||"<anonymous>",o=function(...a){if(Cn.set(o,++n),n===1)r=e.apply(this,a),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return gp(o,e),Cn.set(o,n),o};Pn.exports=$a;Pn.exports.default=$a;Pn.exports.callCount=e=>{if(!Cn.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Cn.get(e)}});var Ia=k((Km,Rn)=>{Rn.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Rn.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Rn.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Ba=k((Xm,kt)=>{var O=global.process,Xe=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};Xe(O)?(Oa=require("assert"),_t=Ia(),Ma=/^win/i.test(O.platform),Yt=require("events"),typeof Yt!="function"&&(Yt=Yt.EventEmitter),O.__signal_exit_emitter__?J=O.__signal_exit_emitter__:(J=O.__signal_exit_emitter__=new Yt,J.count=0,J.emitted={}),J.infinite||(J.setMaxListeners(1/0),J.infinite=!0),kt.exports=function(e,t){if(!Xe(global.process))return function(){};Oa.equal(typeof e,"function","a callback must be provided for exit handler"),vt===!1&&Ii();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){J.removeListener(r,e),J.listeners("exit").length===0&&J.listeners("afterexit").length===0&&Dn()};return J.on(r,e),n},Dn=function(){!vt||!Xe(global.process)||(vt=!1,_t.forEach(function(t){try{O.removeListener(t,Fn[t])}catch{}}),O.emit=jn,O.reallyExit=Oi,J.count-=1)},kt.exports.unload=Dn,Ze=function(t,r,n){J.emitted[t]||(J.emitted[t]=!0,J.emit(t,r,n))},Fn={},_t.forEach(function(e){Fn[e]=function(){if(Xe(global.process)){var r=O.listeners(e);r.length===J.count&&(Dn(),Ze("exit",null,e),Ze("afterexit",null,e),Ma&&e==="SIGHUP"&&(e="SIGINT"),O.kill(O.pid,e))}}}),kt.exports.signals=function(){return _t},vt=!1,Ii=function(){vt||!Xe(global.process)||(vt=!0,J.count+=1,_t=_t.filter(function(t){try{return O.on(t,Fn[t]),!0}catch{return!1}}),O.emit=Na,O.reallyExit=La)},kt.exports.load=Ii,Oi=O.reallyExit,La=function(t){Xe(global.process)&&(O.exitCode=t||0,Ze("exit",O.exitCode,null),Ze("afterexit",O.exitCode,null),Oi.call(O,O.exitCode))},jn=O.emit,Na=function(t,r){if(t==="exit"&&Xe(global.process)){r!==void 0&&(O.exitCode=r);var n=jn.apply(this,arguments);return Ze("exit",O.exitCode,null),Ze("afterexit",O.exitCode,null),n}else return jn.apply(this,arguments)}):kt.exports=function(){return function(){}};var Oa,_t,Ma,Yt,J,Dn,Ze,Fn,vt,Ii,Oi,La,jn,Na});var Ja=k((th,bp)=>{bp.exports={dots:{interval:80,frames:["\u280B","\u2819","\u2839","\u2838","\u283C","\u2834","\u2826","\u2827","\u2807","\u280F"]},dots2:{interval:80,frames:["\u28FE","\u28FD","\u28FB","\u28BF","\u287F","\u28DF","\u28EF","\u28F7"]},dots3:{interval:80,frames:["\u280B","\u2819","\u281A","\u281E","\u2816","\u2826","\u2834","\u2832","\u2833","\u2813"]},dots4:{interval:80,frames:["\u2804","\u2806","\u2807","\u280B","\u2819","\u2838","\u2830","\u2820","\u2830","\u2838","\u2819","\u280B","\u2807","\u2806"]},dots5:{interval:80,frames:["\u280B","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B"]},dots6:{interval:80,frames:["\u2801","\u2809","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2824","\u2804","\u2804","\u2824","\u2834","\u2832","\u2812","\u2802","\u2802","\u2812","\u281A","\u2819","\u2809","\u2801"]},dots7:{interval:80,frames:["\u2808","\u2809","\u280B","\u2813","\u2812","\u2810","\u2810","\u2812","\u2816","\u2826","\u2824","\u2820","\u2820","\u2824","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B","\u2809","\u2808"]},dots8:{interval:80,frames:["\u2801","\u2801","\u2809","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2824","\u2804","\u2804","\u2824","\u2820","\u2820","\u2824","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B","\u2809","\u2808","\u2808"]},dots9:{interval:80,frames:["\u28B9","\u28BA","\u28BC","\u28F8","\u28C7","\u2867","\u2857","\u284F"]},dots10:{interval:80,frames:["\u2884","\u2882","\u2881","\u2841","\u2848","\u2850","\u2860"]},dots11:{interval:100,frames:["\u2801","\u2802","\u2804","\u2840","\u2880","\u2820","\u2810","\u2808"]},dots12:{interval:80,frames:["\u2880\u2800","\u2840\u2800","\u2804\u2800","\u2882\u2800","\u2842\u2800","\u2805\u2800","\u2883\u2800","\u2843\u2800","\u280D\u2800","\u288B\u2800","\u284B\u2800","\u280D\u2801","\u288B\u2801","\u284B\u2801","\u280D\u2809","\u280B\u2809","\u280B\u2809","\u2809\u2819","\u2809\u2819","\u2809\u2829","\u2808\u2899","\u2808\u2859","\u2888\u2829","\u2840\u2899","\u2804\u2859","\u2882\u2829","\u2842\u2898","\u2805\u2858","\u2883\u2828","\u2843\u2890","\u280D\u2850","\u288B\u2820","\u284B\u2880","\u280D\u2841","\u288B\u2801","\u284B\u2801","\u280D\u2809","\u280B\u2809","\u280B\u2809","\u2809\u2819","\u2809\u2819","\u2809\u2829","\u2808\u2899","\u2808\u2859","\u2808\u2829","\u2800\u2899","\u2800\u2859","\u2800\u2829","\u2800\u2898","\u2800\u2858","\u2800\u2828","\u2800\u2890","\u2800\u2850","\u2800\u2820","\u2800\u2880","\u2800\u2840"]},dots13:{interval:80,frames:["\u28FC","\u28F9","\u28BB","\u283F","\u285F","\u28CF","\u28E7","\u28F6"]},dots8Bit:{interval:80,frames:["\u2800","\u2801","\u2802","\u2803","\u2804","\u2805","\u2806","\u2807","\u2840","\u2841","\u2842","\u2843","\u2844","\u2845","\u2846","\u2847","\u2808","\u2809","\u280A","\u280B","\u280C","\u280D","\u280E","\u280F","\u2848","\u2849","\u284A","\u284B","\u284C","\u284D","\u284E","\u284F","\u2810","\u2811","\u2812","\u2813","\u2814","\u2815","\u2816","\u2817","\u2850","\u2851","\u2852","\u2853","\u2854","\u2855","\u2856","\u2857","\u2818","\u2819","\u281A","\u281B","\u281C","\u281D","\u281E","\u281F","\u2858","\u2859","\u285A","\u285B","\u285C","\u285D","\u285E","\u285F","\u2820","\u2821","\u2822","\u2823","\u2824","\u2825","\u2826","\u2827","\u2860","\u2861","\u2862","\u2863","\u2864","\u2865","\u2866","\u2867","\u2828","\u2829","\u282A","\u282B","\u282C","\u282D","\u282E","\u282F","\u2868","\u2869","\u286A","\u286B","\u286C","\u286D","\u286E","\u286F","\u2830","\u2831","\u2832","\u2833","\u2834","\u2835","\u2836","\u2837","\u2870","\u2871","\u2872","\u2873","\u2874","\u2875","\u2876","\u2877","\u2838","\u2839","\u283A","\u283B","\u283C","\u283D","\u283E","\u283F","\u2878","\u2879","\u287A","\u287B","\u287C","\u287D","\u287E","\u287F","\u2880","\u2881","\u2882","\u2883","\u2884","\u2885","\u2886","\u2887","\u28C0","\u28C1","\u28C2","\u28C3","\u28C4","\u28C5","\u28C6","\u28C7","\u2888","\u2889","\u288A","\u288B","\u288C","\u288D","\u288E","\u288F","\u28C8","\u28C9","\u28CA","\u28CB","\u28CC","\u28CD","\u28CE","\u28CF","\u2890","\u2891","\u2892","\u2893","\u2894","\u2895","\u2896","\u2897","\u28D0","\u28D1","\u28D2","\u28D3","\u28D4","\u28D5","\u28D6","\u28D7","\u2898","\u2899","\u289A","\u289B","\u289C","\u289D","\u289E","\u289F","\u28D8","\u28D9","\u28DA","\u28DB","\u28DC","\u28DD","\u28DE","\u28DF","\u28A0","\u28A1","\u28A2","\u28A3","\u28A4","\u28A5","\u28A6","\u28A7","\u28E0","\u28E1","\u28E2","\u28E3","\u28E4","\u28E5","\u28E6","\u28E7","\u28A8","\u28A9","\u28AA","\u28AB","\u28AC","\u28AD","\u28AE","\u28AF","\u28E8","\u28E9","\u28EA","\u28EB","\u28EC","\u28ED","\u28EE","\u28EF","\u28B0","\u28B1","\u28B2","\u28B3","\u28B4","\u28B5","\u28B6","\u28B7","\u28F0","\u28F1","\u28F2","\u28F3","\u28F4","\u28F5","\u28F6","\u28F7","\u28B8","\u28B9","\u28BA","\u28BB","\u28BC","\u28BD","\u28BE","\u28BF","\u28F8","\u28F9","\u28FA","\u28FB","\u28FC","\u28FD","\u28FE","\u28FF"]},sand:{interval:80,frames:["\u2801","\u2802","\u2804","\u2840","\u2848","\u2850","\u2860","\u28C0","\u28C1","\u28C2","\u28C4","\u28CC","\u28D4","\u28E4","\u28E5","\u28E6","\u28EE","\u28F6","\u28F7","\u28FF","\u287F","\u283F","\u289F","\u281F","\u285B","\u281B","\u282B","\u288B","\u280B","\u280D","\u2849","\u2809","\u2811","\u2821","\u2881"]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["\u2802","-","\u2013","\u2014","\u2013","-"]},pipe:{interval:100,frames:["\u2524","\u2518","\u2534","\u2514","\u251C","\u250C","\u252C","\u2510"]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["\u2736","\u2738","\u2739","\u273A","\u2739","\u2737"]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","\xB4","-","_","_","_"]},hamburger:{interval:100,frames:["\u2631","\u2632","\u2634"]},growVertical:{interval:120,frames:["\u2581","\u2583","\u2584","\u2585","\u2586","\u2587","\u2586","\u2585","\u2584","\u2583"]},growHorizontal:{interval:120,frames:["\u258F","\u258E","\u258D","\u258C","\u258B","\u258A","\u2589","\u258A","\u258B","\u258C","\u258D","\u258E"]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","\xB0","O","o","."]},noise:{interval:100,frames:["\u2593","\u2592","\u2591"]},bounce:{interval:120,frames:["\u2801","\u2802","\u2804","\u2802"]},boxBounce:{interval:120,frames:["\u2596","\u2598","\u259D","\u2597"]},boxBounce2:{interval:100,frames:["\u258C","\u2580","\u2590","\u2584"]},triangle:{interval:50,frames:["\u25E2","\u25E3","\u25E4","\u25E5"]},arc:{interval:100,frames:["\u25DC","\u25E0","\u25DD","\u25DE","\u25E1","\u25DF"]},circle:{interval:120,frames:["\u25E1","\u2299","\u25E0"]},squareCorners:{interval:180,frames:["\u25F0","\u25F3","\u25F2","\u25F1"]},circleQuarters:{interval:120,frames:["\u25F4","\u25F7","\u25F6","\u25F5"]},circleHalves:{interval:50,frames:["\u25D0","\u25D3","\u25D1","\u25D2"]},squish:{interval:100,frames:["\u256B","\u256A"]},toggle:{interval:250,frames:["\u22B6","\u22B7"]},toggle2:{interval:80,frames:["\u25AB","\u25AA"]},toggle3:{interval:120,frames:["\u25A1","\u25A0"]},toggle4:{interval:100,frames:["\u25A0","\u25A1","\u25AA","\u25AB"]},toggle5:{interval:100,frames:["\u25AE","\u25AF"]},toggle6:{interval:300,frames:["\u101D","\u1040"]},toggle7:{interval:80,frames:["\u29BE","\u29BF"]},toggle8:{interval:100,frames:["\u25CD","\u25CC"]},toggle9:{interval:100,frames:["\u25C9","\u25CE"]},toggle10:{interval:100,frames:["\u3282","\u3280","\u3281"]},toggle11:{interval:50,frames:["\u29C7","\u29C6"]},toggle12:{interval:120,frames:["\u2617","\u2616"]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["\u2190","\u2196","\u2191","\u2197","\u2192","\u2198","\u2193","\u2199"]},arrow2:{interval:80,frames:["\u2B06\uFE0F ","\u2197\uFE0F ","\u27A1\uFE0F ","\u2198\uFE0F ","\u2B07\uFE0F ","\u2199\uFE0F ","\u2B05\uFE0F ","\u2196\uFE0F "]},arrow3:{interval:120,frames:["\u25B9\u25B9\u25B9\u25B9\u25B9","\u25B8\u25B9\u25B9\u25B9\u25B9","\u25B9\u25B8\u25B9\u25B9\u25B9","\u25B9\u25B9\u25B8\u25B9\u25B9","\u25B9\u25B9\u25B9\u25B8\u25B9","\u25B9\u25B9\u25B9\u25B9\u25B8"]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["( \u25CF    )","(  \u25CF   )","(   \u25CF  )","(    \u25CF )","(     \u25CF)","(    \u25CF )","(   \u25CF  )","(  \u25CF   )","( \u25CF    )","(\u25CF     )"]},smiley:{interval:200,frames:["\u{1F604} ","\u{1F61D} "]},monkey:{interval:300,frames:["\u{1F648} ","\u{1F648} ","\u{1F649} ","\u{1F64A} "]},hearts:{interval:100,frames:["\u{1F49B} ","\u{1F499} ","\u{1F49C} ","\u{1F49A} ","\u2764\uFE0F "]},clock:{interval:100,frames:["\u{1F55B} ","\u{1F550} ","\u{1F551} ","\u{1F552} ","\u{1F553} ","\u{1F554} ","\u{1F555} ","\u{1F556} ","\u{1F557} ","\u{1F558} ","\u{1F559} ","\u{1F55A} "]},earth:{interval:180,frames:["\u{1F30D} ","\u{1F30E} ","\u{1F30F} "]},material:{interval:17,frames:["\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581"]},moon:{interval:80,frames:["\u{1F311} ","\u{1F312} ","\u{1F313} ","\u{1F314} ","\u{1F315} ","\u{1F316} ","\u{1F317} ","\u{1F318} "]},runner:{interval:140,frames:["\u{1F6B6} ","\u{1F3C3} "]},pong:{interval:80,frames:["\u2590\u2802       \u258C","\u2590\u2808       \u258C","\u2590 \u2802      \u258C","\u2590 \u2820      \u258C","\u2590  \u2840     \u258C","\u2590  \u2820     \u258C","\u2590   \u2802    \u258C","\u2590   \u2808    \u258C","\u2590    \u2802   \u258C","\u2590    \u2820   \u258C","\u2590     \u2840  \u258C","\u2590     \u2820  \u258C","\u2590      \u2802 \u258C","\u2590      \u2808 \u258C","\u2590       \u2802\u258C","\u2590       \u2820\u258C","\u2590       \u2840\u258C","\u2590      \u2820 \u258C","\u2590      \u2802 \u258C","\u2590     \u2808  \u258C","\u2590     \u2802  \u258C","\u2590    \u2820   \u258C","\u2590    \u2840   \u258C","\u2590   \u2820    \u258C","\u2590   \u2802    \u258C","\u2590  \u2808     \u258C","\u2590  \u2802     \u258C","\u2590 \u2820      \u258C","\u2590 \u2840      \u258C","\u2590\u2820       \u258C"]},shark:{interval:120,frames:["\u2590|\\____________\u258C","\u2590_|\\___________\u258C","\u2590__|\\__________\u258C","\u2590___|\\_________\u258C","\u2590____|\\________\u258C","\u2590_____|\\_______\u258C","\u2590______|\\______\u258C","\u2590_______|\\_____\u258C","\u2590________|\\____\u258C","\u2590_________|\\___\u258C","\u2590__________|\\__\u258C","\u2590___________|\\_\u258C","\u2590____________|\\\u258C","\u2590____________/|\u258C","\u2590___________/|_\u258C","\u2590__________/|__\u258C","\u2590_________/|___\u258C","\u2590________/|____\u258C","\u2590_______/|_____\u258C","\u2590______/|______\u258C","\u2590_____/|_______\u258C","\u2590____/|________\u258C","\u2590___/|_________\u258C","\u2590__/|__________\u258C","\u2590_/|___________\u258C","\u2590/|____________\u258C"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:["\u2600\uFE0F ","\u2600\uFE0F ","\u2600\uFE0F ","\u{1F324} ","\u26C5\uFE0F ","\u{1F325} ","\u2601\uFE0F ","\u{1F327} ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u26C8 ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u2601\uFE0F ","\u{1F325} ","\u26C5\uFE0F ","\u{1F324} ","\u2600\uFE0F ","\u2600\uFE0F "]},christmas:{interval:400,frames:["\u{1F332}","\u{1F384}"]},grenade:{interval:80,frames:["\u060C  ","\u2032  "," \xB4 "," \u203E ","  \u2E0C","  \u2E0A","  |","  \u204E","  \u2055"," \u0DF4 ","  \u2053","   ","   ","   "]},point:{interval:125,frames:["\u2219\u2219\u2219","\u25CF\u2219\u2219","\u2219\u25CF\u2219","\u2219\u2219\u25CF","\u2219\u2219\u2219"]},layer:{interval:150,frames:["-","=","\u2261"]},betaWave:{interval:80,frames:["\u03C1\u03B2\u03B2\u03B2\u03B2\u03B2\u03B2","\u03B2\u03C1\u03B2\u03B2\u03B2\u03B2\u03B2","\u03B2\u03B2\u03C1\u03B2\u03B2\u03B2\u03B2","\u03B2\u03B2\u03B2\u03C1\u03B2\u03B2\u03B2","\u03B2\u03B2\u03B2\u03B2\u03C1\u03B2\u03B2","\u03B2\u03B2\u03B2\u03B2\u03B2\u03C1\u03B2","\u03B2\u03B2\u03B2\u03B2\u03B2\u03B2\u03C1"]},fingerDance:{interval:160,frames:["\u{1F918} ","\u{1F91F} ","\u{1F596} ","\u270B ","\u{1F91A} ","\u{1F446} "]},fistBump:{interval:80,frames:["\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u3000\u{1F91C}\u3000\u3000\u{1F91B}\u3000 ","\u3000\u3000\u{1F91C}\u{1F91B}\u3000\u3000 ","\u3000\u{1F91C}\u2728\u{1F91B}\u3000\u3000 ","\u{1F91C}\u3000\u2728\u3000\u{1F91B}\u3000 "]},soccerHeader:{interval:80,frames:[" \u{1F9D1}\u26BD\uFE0F       \u{1F9D1} ","\u{1F9D1}  \u26BD\uFE0F      \u{1F9D1} ","\u{1F9D1}   \u26BD\uFE0F     \u{1F9D1} ","\u{1F9D1}    \u26BD\uFE0F    \u{1F9D1} ","\u{1F9D1}     \u26BD\uFE0F   \u{1F9D1} ","\u{1F9D1}      \u26BD\uFE0F  \u{1F9D1} ","\u{1F9D1}       \u26BD\uFE0F\u{1F9D1}  ","\u{1F9D1}      \u26BD\uFE0F  \u{1F9D1} ","\u{1F9D1}     \u26BD\uFE0F   \u{1F9D1} ","\u{1F9D1}    \u26BD\uFE0F    \u{1F9D1} ","\u{1F9D1}   \u26BD\uFE0F     \u{1F9D1} ","\u{1F9D1}  \u26BD\uFE0F      \u{1F9D1} "]},mindblown:{interval:160,frames:["\u{1F610} ","\u{1F610} ","\u{1F62E} ","\u{1F62E} ","\u{1F626} ","\u{1F626} ","\u{1F627} ","\u{1F627} ","\u{1F92F} ","\u{1F4A5} ","\u2728 ","\u3000 ","\u3000 ","\u3000 "]},speaker:{interval:160,frames:["\u{1F508} ","\u{1F509} ","\u{1F50A} ","\u{1F509} "]},orangePulse:{interval:100,frames:["\u{1F538} ","\u{1F536} ","\u{1F7E0} ","\u{1F7E0} ","\u{1F536} "]},bluePulse:{interval:100,frames:["\u{1F539} ","\u{1F537} ","\u{1F535} ","\u{1F535} ","\u{1F537} "]},orangeBluePulse:{interval:100,frames:["\u{1F538} ","\u{1F536} ","\u{1F7E0} ","\u{1F7E0} ","\u{1F536} ","\u{1F539} ","\u{1F537} ","\u{1F535} ","\u{1F535} ","\u{1F537} "]},timeTravel:{interval:100,frames:["\u{1F55B} ","\u{1F55A} ","\u{1F559} ","\u{1F558} ","\u{1F557} ","\u{1F556} ","\u{1F555} ","\u{1F554} ","\u{1F553} ","\u{1F552} ","\u{1F551} ","\u{1F550} "]},aesthetic:{interval:80,frames:["\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0","\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1\u25B1"]}}});var Ni=k((rh,Ha)=>{"use strict";var An=Object.assign({},Ja()),Va=Object.keys(An);Object.defineProperty(An,"random",{get(){let e=Math.floor(Math.random()*Va.length),t=Va[e];return An[t]}});Ha.exports=An});var za=k((fh,In)=>{var vp=function(){"use strict";function e(a,s,l,c){var f;typeof s=="object"&&(l=s.depth,c=s.prototype,f=s.filter,s=s.circular);var p=[],u=[],b=typeof Buffer<"u";typeof s>"u"&&(s=!0),typeof l>"u"&&(l=1/0);function h(m,_){if(m===null)return null;if(_==0)return m;var w,v;if(typeof m!="object")return m;if(e.__isArray(m))w=[];else if(e.__isRegExp(m))w=new RegExp(m.source,o(m)),m.lastIndex&&(w.lastIndex=m.lastIndex);else if(e.__isDate(m))w=new Date(m.getTime());else{if(b&&Buffer.isBuffer(m))return Buffer.allocUnsafe?w=Buffer.allocUnsafe(m.length):w=new Buffer(m.length),m.copy(w),w;typeof c>"u"?(v=Object.getPrototypeOf(m),w=Object.create(v)):(w=Object.create(c),v=c)}if(s){var C=p.indexOf(m);if(C!=-1)return u[C];p.push(m),u.push(w)}for(var R in m){var $;v&&($=Object.getOwnPropertyDescriptor(v,R)),!($&&$.set==null)&&(w[R]=h(m[R],_-1))}return w}return h(a,l)}e.clonePrototype=function(s){if(s===null)return null;var l=function(){};return l.prototype=s,new l};function t(a){return Object.prototype.toString.call(a)}e.__objToStr=t;function r(a){return typeof a=="object"&&t(a)==="[object Date]"}e.__isDate=r;function n(a){return typeof a=="object"&&t(a)==="[object Array]"}e.__isArray=n;function i(a){return typeof a=="object"&&t(a)==="[object RegExp]"}e.__isRegExp=i;function o(a){var s="";return a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),s}return e.__getRegExpFlags=o,e}();typeof In=="object"&&In.exports&&(In.exports=vp)});var Ka=k((ph,Ya)=>{var kp=za();Ya.exports=function(e,t){return e=e||{},Object.keys(t).forEach(function(r){typeof e[r]>"u"&&(e[r]=kp(t[r]))}),e}});var Za=k((uh,Xa)=>{Xa.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]});var rs=k((dh,Ui)=>{"use strict";var Sp=Ka(),Zt=Za(),es={nul:0,control:0};Ui.exports=function(t){return ts(t,es)};Ui.exports.config=function(e){return e=Sp(e||{},es),function(r){return ts(r,e)}};function ts(e,t){if(typeof e!="string")return Qa(e,t);for(var r=0,n=0;n<e.length;n++){var i=Qa(e.charCodeAt(n),t);if(i<0)return-1;r+=i}return r}function Qa(e,t){return e===0?t.nul:e<32||e>=127&&e<160?t.control:Ep(e)?0:1+(e>=4352&&(e<=4447||e==9001||e==9002||e>=11904&&e<=42191&&e!=12351||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510||e>=131072&&e<=196605||e>=196608&&e<=262141))}function Ep(e){var t=0,r=Zt.length-1,n;if(e<Zt[0][0]||e>Zt[r][1])return!1;for(;r>=t;)if(n=Math.floor((t+r)/2),e>Zt[n][1])t=n+1;else if(e<Zt[n][0])r=n-1;else return!0;return!1}});var Gi=k((hh,ns)=>{ns.exports=require("stream")});var ls=k((gh,cs)=>{"use strict";function is(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?is(Object(r),!0).forEach(function(n){Tp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):is(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tp(e,t,r){return t=ss(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function as(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ss(n.key),n)}}function Pp(e,t,r){return t&&as(e.prototype,t),r&&as(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ss(e){var t=Rp(e,"string");return typeof t=="symbol"?t:String(t)}function Rp(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dp=require("buffer"),On=Dp.Buffer,Fp=require("util"),Ji=Fp.inspect,jp=Ji&&Ji.custom||"inspect";function $p(e,t,r){On.prototype.copy.call(e,t,r)}cs.exports=function(){function e(){Cp(this,e),this.head=null,this.tail=null,this.length=0}return Pp(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return On.alloc(0);for(var n=On.allocUnsafe(r>>>0),i=this.head,o=0;i;)$p(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var a=n.data,s=r>a.length?a.length:r;if(s===a.length?o+=a:o+=a.slice(0,r),r-=s,r===0){s===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(s));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=On.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,s=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,s),r-=s,r===0){s===a.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(s));break}++o}return this.length-=o,n}},{key:jp,value:function(r,n){return Ji(this,os(os({},n),{},{depth:0,customInspect:!1}))}}]),e}()});var Hi=k((yh,ps)=>{"use strict";function Ap(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Vi,this,e)):process.nextTick(Vi,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(Mn,r):(r._writableState.errorEmitted=!0,process.nextTick(fs,r,o)):process.nextTick(fs,r,o):t?(process.nextTick(Mn,r),t(o)):process.nextTick(Mn,r)}),this)}function fs(e,t){Vi(e,t),Mn(e)}function Mn(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Ip(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Vi(e,t){e.emit("error",t)}function Op(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}ps.exports={destroy:Ap,undestroy:Ip,errorOrDestroy:Op}});var Ie=k((bh,ms)=>{"use strict";var ds={};function se(e,t,r){r||(r=Error);function n(o,a,s){return typeof t=="string"?t:t(o,a,s)}class i extends r{constructor(a,s,l){super(n(a,s,l))}}i.prototype.name=r.name,i.prototype.code=e,ds[e]=i}function us(e,t){if(Array.isArray(e)){let r=e.length;return e=e.map(n=>String(n)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function Mp(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function Lp(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function Np(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}se("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);se("ERR_INVALID_ARG_TYPE",function(e,t,r){let n;typeof t=="string"&&Mp(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";let i;if(Lp(e," argument"))i=`The ${e} ${n} ${us(t,"type")}`;else{let o=Np(e,".")?"property":"argument";i=`The "${e}" ${o} ${n} ${us(t,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);se("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");se("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});se("ERR_STREAM_PREMATURE_CLOSE","Premature close");se("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});se("ERR_MULTIPLE_CALLBACK","Callback called multiple times");se("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");se("ERR_STREAM_WRITE_AFTER_END","write after end");se("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);se("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);se("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");ms.exports.codes=ds});var zi=k((wh,hs)=>{"use strict";var Bp=Ie().codes.ERR_INVALID_OPT_VALUE;function qp(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Up(e,t,r,n){var i=qp(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Bp(o,i)}return Math.floor(i)}return e.objectMode?16:16*1024}hs.exports={getHighWaterMark:Up}});var gs=k((xh,Yi)=>{typeof Object.create=="function"?Yi.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Yi.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Qe=k((_h,Xi)=>{try{if(Ki=require("util"),typeof Ki.inherits!="function")throw"";Xi.exports=Ki.inherits}catch{Xi.exports=gs()}var Ki});var bs=k((vh,ys)=>{ys.exports=require("util").deprecate});var eo=k((kh,Ss)=>{"use strict";Ss.exports=U;function xs(e){var t=this;this.next=null,this.entry=null,this.finish=function(){hu(t,e)}}var Et;U.WritableState=er;var Wp={deprecate:bs()},_s=Gi(),Nn=require("buffer").Buffer,Gp=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Jp(e){return Nn.from(e)}function Vp(e){return Nn.isBuffer(e)||e instanceof Gp}var Qi=Hi(),Hp=zi(),zp=Hp.getHighWaterMark,Oe=Ie().codes,Yp=Oe.ERR_INVALID_ARG_TYPE,Kp=Oe.ERR_METHOD_NOT_IMPLEMENTED,Xp=Oe.ERR_MULTIPLE_CALLBACK,Zp=Oe.ERR_STREAM_CANNOT_PIPE,Qp=Oe.ERR_STREAM_DESTROYED,eu=Oe.ERR_STREAM_NULL_VALUES,tu=Oe.ERR_STREAM_WRITE_AFTER_END,ru=Oe.ERR_UNKNOWN_ENCODING,Tt=Qi.errorOrDestroy;Qe()(U,_s);function nu(){}function er(e,t,r){Et=Et||et(),e=e||{},typeof r!="boolean"&&(r=t instanceof Et),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=zp(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){fu(t,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new xs(this)}er.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(er.prototype,"buffer",{get:Wp.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Ln;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ln=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(t){return Ln.call(this,t)?!0:this!==U?!1:t&&t._writableState instanceof er}})):Ln=function(t){return t instanceof this};function U(e){Et=Et||et();var t=this instanceof Et;if(!t&&!Ln.call(U,this))return new U(e);this._writableState=new er(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),_s.call(this)}U.prototype.pipe=function(){Tt(this,new Zp)};function iu(e,t){var r=new tu;Tt(e,r),process.nextTick(t,r)}function ou(e,t,r,n){var i;return r===null?i=new eu:typeof r!="string"&&!t.objectMode&&(i=new Yp("chunk",["string","Buffer"],r)),i?(Tt(e,i),process.nextTick(n,i),!1):!0}U.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&Vp(e);return o&&!Nn.isBuffer(e)&&(e=Jp(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=nu),n.ending?iu(this,r):(o||ou(this,n,e,r))&&(n.pendingcb++,i=su(this,n,o,e,t,r)),i};U.prototype.cork=function(){this._writableState.corked++};U.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&vs(this,e))};U.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new ru(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function au(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Nn.from(t,r)),t}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function su(e,t,r,n,i,o){if(!r){var a=au(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Zi(e,t,!1,s,n,i,o);return l}function Zi(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Qp("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function cu(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(Qt,e,t),e._writableState.errorEmitted=!0,Tt(e,n)):(i(n),e._writableState.errorEmitted=!0,Tt(e,n),Qt(e,t))}function lu(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function fu(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Xp;if(lu(r),t)cu(e,r,n,t,i);else{var o=ks(r)||e.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&vs(e,r),n?process.nextTick(ws,e,r,o,i):ws(e,r,o,i)}}function ws(e,t,r,n){r||pu(e,t),t.pendingcb--,n(),Qt(e,t)}function pu(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function vs(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,Zi(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new xs(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback,p=t.objectMode?1:l.length;if(Zi(e,t,!1,p,l,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}U.prototype._write=function(e,t,r){r(new Kp("_write()"))};U.prototype._writev=null;U.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||mu(this,n,r),this};Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ks(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function uu(e,t){e._final(function(r){t.pendingcb--,r&&Tt(e,r),t.prefinished=!0,e.emit("prefinish"),Qt(e,t)})}function du(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(uu,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function Qt(e,t){var r=ks(t);if(r&&(du(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function mu(e,t,r){t.ending=!0,Qt(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function hu(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});U.prototype.destroy=Qi.destroy;U.prototype._undestroy=Qi.undestroy;U.prototype._destroy=function(e,t){t(e)}});var et=k((Sh,Ts)=>{"use strict";var gu=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Ts.exports=xe;var Es=no(),ro=eo();Qe()(xe,Es);for(to=gu(ro.prototype),Bn=0;Bn<to.length;Bn++)qn=to[Bn],xe.prototype[qn]||(xe.prototype[qn]=ro.prototype[qn]);var to,qn,Bn;function xe(e){if(!(this instanceof xe))return new xe(e);Es.call(this,e),ro.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",yu)))}Object.defineProperty(xe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(xe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(xe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function yu(){this._writableState.ended||process.nextTick(bu,this)}function bu(e){e.end()}Object.defineProperty(xe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var Rs=k((io,Ps)=>{var Un=require("buffer"),_e=Un.Buffer;function Cs(e,t){for(var r in e)t[r]=e[r]}_e.from&&_e.alloc&&_e.allocUnsafe&&_e.allocUnsafeSlow?Ps.exports=Un:(Cs(Un,io),io.Buffer=tt);function tt(e,t,r){return _e(e,t,r)}tt.prototype=Object.create(_e.prototype);Cs(_e,tt);tt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return _e(e,t,r)};tt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=_e(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};tt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return _e(e)};tt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Un.SlowBuffer(e)}});var so=k(Fs=>{"use strict";var ao=Rs().Buffer,Ds=ao.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function wu(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function xu(e){var t=wu(e);if(typeof t!="string"&&(ao.isEncoding===Ds||!Ds(e)))throw new Error("Unknown encoding: "+e);return t||e}Fs.StringDecoder=tr;function tr(e){this.encoding=xu(e);var t;switch(this.encoding){case"utf16le":this.text=Tu,this.end=Cu,t=4;break;case"utf8":this.fillLast=ku,t=4;break;case"base64":this.text=Pu,this.end=Ru,t=3;break;default:this.write=Du,this.end=Fu;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ao.allocUnsafe(t)}tr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};tr.prototype.end=Eu;tr.prototype.text=Su;tr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function oo(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function _u(e,t,r){var n=t.length-1;if(n<r)return 0;var i=oo(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=oo(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=oo(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function vu(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function ku(e){var t=this.lastTotal-this.lastNeed,r=vu(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Su(e,t){var r=_u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function Eu(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function Tu(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Cu(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Pu(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Ru(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Du(e){return e.toString(this.encoding)}function Fu(e){return e&&e.length?this.write(e):""}});var Wn=k((Th,As)=>{"use strict";var js=Ie().codes.ERR_STREAM_PREMATURE_CLOSE;function ju(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function $u(){}function Au(e){return e.setHeader&&typeof e.abort=="function"}function $s(e,t,r){if(typeof t=="function")return $s(e,null,t);t||(t={}),r=ju(r||$u);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,o=function(){e.writable||s()},a=e._writableState&&e._writableState.finished,s=function(){i=!1,a=!0,n||r.call(e)},l=e._readableState&&e._readableState.endEmitted,c=function(){n=!1,l=!0,i||r.call(e)},f=function(h){r.call(e,h)},p=function(){var h;if(n&&!l)return(!e._readableState||!e._readableState.ended)&&(h=new js),r.call(e,h);if(i&&!a)return(!e._writableState||!e._writableState.ended)&&(h=new js),r.call(e,h)},u=function(){e.req.on("finish",s)};return Au(e)?(e.on("complete",s),e.on("abort",p),e.req?u():e.on("request",u)):i&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",c),e.on("finish",s),t.error!==!1&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",s),e.removeListener("abort",p),e.removeListener("request",u),e.req&&e.req.removeListener("finish",s),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",s),e.removeListener("end",c),e.removeListener("error",f),e.removeListener("close",p)}}As.exports=$s});var Os=k((Ch,Is)=>{"use strict";var Gn;function Me(e,t,r){return t=Iu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iu(e){var t=Ou(e,"string");return typeof t=="symbol"?t:String(t)}function Ou(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mu=Wn(),Le=Symbol("lastResolve"),rt=Symbol("lastReject"),rr=Symbol("error"),Jn=Symbol("ended"),nt=Symbol("lastPromise"),co=Symbol("handlePromise"),it=Symbol("stream");function Ne(e,t){return{value:e,done:t}}function Lu(e){var t=e[Le];if(t!==null){var r=e[it].read();r!==null&&(e[nt]=null,e[Le]=null,e[rt]=null,t(Ne(r,!1)))}}function Nu(e){process.nextTick(Lu,e)}function Bu(e,t){return function(r,n){e.then(function(){if(t[Jn]){r(Ne(void 0,!0));return}t[co](r,n)},n)}}var qu=Object.getPrototypeOf(function(){}),Uu=Object.setPrototypeOf((Gn={get stream(){return this[it]},next:function(){var t=this,r=this[rr];if(r!==null)return Promise.reject(r);if(this[Jn])return Promise.resolve(Ne(void 0,!0));if(this[it].destroyed)return new Promise(function(a,s){process.nextTick(function(){t[rr]?s(t[rr]):a(Ne(void 0,!0))})});var n=this[nt],i;if(n)i=new Promise(Bu(n,this));else{var o=this[it].read();if(o!==null)return Promise.resolve(Ne(o,!1));i=new Promise(this[co])}return this[nt]=i,i}},Me(Gn,Symbol.asyncIterator,function(){return this}),Me(Gn,"return",function(){var t=this;return new Promise(function(r,n){t[it].destroy(null,function(i){if(i){n(i);return}r(Ne(void 0,!0))})})}),Gn),qu),Wu=function(t){var r,n=Object.create(Uu,(r={},Me(r,it,{value:t,writable:!0}),Me(r,Le,{value:null,writable:!0}),Me(r,rt,{value:null,writable:!0}),Me(r,rr,{value:null,writable:!0}),Me(r,Jn,{value:t._readableState.endEmitted,writable:!0}),Me(r,co,{value:function(o,a){var s=n[it].read();s?(n[nt]=null,n[Le]=null,n[rt]=null,o(Ne(s,!1))):(n[Le]=o,n[rt]=a)},writable:!0}),r));return n[nt]=null,Mu(t,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[rt];o!==null&&(n[nt]=null,n[Le]=null,n[rt]=null,o(i)),n[rr]=i;return}var a=n[Le];a!==null&&(n[nt]=null,n[Le]=null,n[rt]=null,a(Ne(void 0,!0))),n[Jn]=!0}),t.on("readable",Nu.bind(null,n)),n};Is.exports=Wu});var Bs=k((Ph,Ns)=>{"use strict";function Ms(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(c){r(c);return}s.done?t(l):Promise.resolve(l).then(n,i)}function Gu(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(l){Ms(o,n,i,a,s,"next",l)}function s(l){Ms(o,n,i,a,s,"throw",l)}a(void 0)})}}function Ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ju(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ls(Object(r),!0).forEach(function(n){Vu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ls(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vu(e,t,r){return t=Hu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hu(e){var t=zu(e,"string");return typeof t=="symbol"?t:String(t)}function zu(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yu=Ie().codes.ERR_INVALID_ARG_TYPE;function Ku(e,t,r){var n;if(t&&typeof t.next=="function")n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])n=t[Symbol.iterator]();else throw new Yu("iterable",["Iterable"],t);var i=new e(Ju({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,a())};function a(){return s.apply(this,arguments)}function s(){return s=Gu(function*(){try{var l=yield n.next(),c=l.value,f=l.done;f?i.push(null):i.push(yield c)?a():o=!1}catch(p){i.destroy(p)}}),s.apply(this,arguments)}return i}Ns.exports=Ku});var no=k((Dh,Ks)=>{"use strict";Ks.exports=P;var Ct;P.ReadableState=Gs;var Rh=require("events").EventEmitter,Ws=function(t,r){return t.listeners(r).length},ir=Gi(),Vn=require("buffer").Buffer,Xu=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Zu(e){return Vn.from(e)}function Qu(e){return Vn.isBuffer(e)||e instanceof Xu}var lo=require("util"),E;lo&&lo.debuglog?E=lo.debuglog("stream"):E=function(){};var ed=ls(),yo=Hi(),td=zi(),rd=td.getHighWaterMark,Hn=Ie().codes,nd=Hn.ERR_INVALID_ARG_TYPE,id=Hn.ERR_STREAM_PUSH_AFTER_EOF,od=Hn.ERR_METHOD_NOT_IMPLEMENTED,ad=Hn.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Pt,fo,po;Qe()(P,ir);var nr=yo.errorOrDestroy,uo=["error","close","destroy","pause","resume"];function sd(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Gs(e,t,r){Ct=Ct||et(),e=e||{},typeof r!="boolean"&&(r=t instanceof Ct),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=rd(this,e,"readableHighWaterMark",r),this.buffer=new ed,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Pt||(Pt=so().StringDecoder),this.decoder=new Pt(e.encoding),this.encoding=e.encoding)}function P(e){if(Ct=Ct||et(),!(this instanceof P))return new P(e);var t=this instanceof Ct;this._readableState=new Gs(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),ir.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});P.prototype.destroy=yo.destroy;P.prototype._undestroy=yo.undestroy;P.prototype._destroy=function(e,t){t(e)};P.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Vn.from(e,t),t=""),n=!0),Js(this,e,t,!1,n)};P.prototype.unshift=function(e){return Js(this,e,null,!0,!1)};function Js(e,t,r,n,i){E("readableAddChunk",t);var o=e._readableState;if(t===null)o.reading=!1,fd(e,o);else{var a;if(i||(a=cd(o,t)),a)nr(e,a);else if(o.objectMode||t&&t.length>0)if(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==Vn.prototype&&(t=Zu(t)),n)o.endEmitted?nr(e,new ad):mo(e,o,t,!0);else if(o.ended)nr(e,new id);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?mo(e,o,t,!1):go(e,o)):mo(e,o,t,!1)}else n||(o.reading=!1,go(e,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function mo(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&zn(e)),go(e,t)}function cd(e,t){var r;return!Qu(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new nd("chunk",["string","Buffer","Uint8Array"],t)),r}P.prototype.isPaused=function(){return this._readableState.flowing===!1};P.prototype.setEncoding=function(e){Pt||(Pt=so().StringDecoder);var t=new Pt(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var qs=1073741824;function ld(e){return e>=qs?e=qs:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Us(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=ld(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}P.prototype.read=function(e){E("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return E("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?ho(this):zn(this),null;if(e=Us(e,t),e===0&&t.ended)return t.length===0&&ho(this),null;var n=t.needReadable;E("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,E("length less than watermark",n)),t.ended||t.reading?(n=!1,E("reading or ended",n)):n&&(E("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Us(r,t)));var i;return e>0?i=zs(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ho(this)),i!==null&&this.emit("data",i),i};function fd(e,t){if(E("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?zn(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Vs(e)))}}function zn(e){var t=e._readableState;E("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(E("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(Vs,e))}function Vs(e){var t=e._readableState;E("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,bo(e)}function go(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(pd,e,t))}function pd(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(E("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}P.prototype._read=function(e){nr(this,new od("_read()"))};P.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,E("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?s:m;n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",a);function a(_,w){E("onunpipe"),_===r&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,f())}function s(){E("onend"),e.end()}var l=ud(r);e.on("drain",l);var c=!1;function f(){E("cleanup"),e.removeListener("close",b),e.removeListener("finish",h),e.removeListener("drain",l),e.removeListener("error",u),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",m),r.removeListener("data",p),c=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}r.on("data",p);function p(_){E("ondata");var w=e.write(_);E("dest.write",w),w===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Ys(n.pipes,e)!==-1)&&!c&&(E("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function u(_){E("onerror",_),m(),e.removeListener("error",u),Ws(e,"error")===0&&nr(e,_)}sd(e,"error",u);function b(){e.removeListener("finish",h),m()}e.once("close",b);function h(){E("onfinish"),e.removeListener("close",b),m()}e.once("finish",h);function m(){E("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(E("pipe resume"),r.resume()),e};function ud(e){return function(){var r=e._readableState;E("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Ws(e,"data")&&(r.flowing=!0,bo(e))}}P.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Ys(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};P.prototype.on=function(e,t){var r=ir.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,E("on readable",n.length,n.reading),n.length?zn(this):n.reading||process.nextTick(dd,this)),r};P.prototype.addListener=P.prototype.on;P.prototype.removeListener=function(e,t){var r=ir.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(Hs,this),r};P.prototype.removeAllListeners=function(e){var t=ir.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(Hs,this),t};function Hs(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function dd(e){E("readable nexttick read 0"),e.read(0)}P.prototype.resume=function(){var e=this._readableState;return e.flowing||(E("resume"),e.flowing=!e.readableListening,md(this,e)),e.paused=!1,this};function md(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(hd,e,t))}function hd(e,t){E("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),bo(e),t.flowing&&!t.reading&&e.read(0)}P.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function bo(e){var t=e._readableState;for(E("flow",t.flowing);t.flowing&&e.read()!==null;);}P.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(E("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(E("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var s=t.push(a);s||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(s){return function(){return e[s].apply(e,arguments)}}(i));for(var o=0;o<uo.length;o++)e.on(uo[o],this.emit.bind(this,uo[o]));return this._read=function(a){E("wrapped _read",a),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return fo===void 0&&(fo=Os()),fo(this)});Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});P._fromList=zs;Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function zs(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function ho(e){var t=e._readableState;E("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(gd,t,e))}function gd(e,t){if(E("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(P.from=function(e,t){return po===void 0&&(po=Bs()),po(P,e,t)});function Ys(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var wo=k((Fh,Zs)=>{"use strict";Zs.exports=Pe;var Yn=Ie().codes,yd=Yn.ERR_METHOD_NOT_IMPLEMENTED,bd=Yn.ERR_MULTIPLE_CALLBACK,wd=Yn.ERR_TRANSFORM_ALREADY_TRANSFORMING,xd=Yn.ERR_TRANSFORM_WITH_LENGTH_0,Kn=et();Qe()(Pe,Kn);function _d(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new bd);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Pe(e){if(!(this instanceof Pe))return new Pe(e);Kn.call(this,e),this._transformState={afterTransform:_d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",vd)}function vd(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Xs(e,t,r)}):Xs(this,null,null)}Pe.prototype.push=function(e,t){return this._transformState.needTransform=!1,Kn.prototype.push.call(this,e,t)};Pe.prototype._transform=function(e,t,r){r(new yd("_transform()"))};Pe.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Pe.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Pe.prototype._destroy=function(e,t){Kn.prototype._destroy.call(this,e,function(r){t(r)})};function Xs(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new xd;if(e._transformState.transforming)throw new wd;return e.push(null)}});var tc=k((jh,ec)=>{"use strict";ec.exports=or;var Qs=wo();Qe()(or,Qs);function or(e){if(!(this instanceof or))return new or(e);Qs.call(this,e)}or.prototype._transform=function(e,t,r){r(null,e)}});var ac=k(($h,oc)=>{"use strict";var xo;function kd(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var ic=Ie().codes,Sd=ic.ERR_MISSING_ARGS,Ed=ic.ERR_STREAM_DESTROYED;function rc(e){if(e)throw e}function Td(e){return e.setHeader&&typeof e.abort=="function"}function Cd(e,t,r,n){n=kd(n);var i=!1;e.on("close",function(){i=!0}),xo===void 0&&(xo=Wn()),xo(e,{readable:t,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,Td(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(a||new Ed("pipe"))}}}function nc(e){e()}function Pd(e,t){return e.pipe(t)}function Rd(e){return!e.length||typeof e[e.length-1]!="function"?rc:e.pop()}function Dd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Rd(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Sd("streams");var i,o=t.map(function(a,s){var l=s<t.length-1,c=s>0;return Cd(a,l,c,function(f){i||(i=f),f&&o.forEach(nc),!l&&(o.forEach(nc),n(i))})});return t.reduce(Pd)}oc.exports=Dd});var sc=k((ce,sr)=>{var ar=require("stream");process.env.READABLE_STREAM==="disable"&&ar?(sr.exports=ar.Readable,Object.assign(sr.exports,ar),sr.exports.Stream=ar):(ce=sr.exports=no(),ce.Stream=ar||ce,ce.Readable=ce,ce.Writable=eo(),ce.Duplex=et(),ce.Transform=wo(),ce.PassThrough=tc(),ce.finished=Wn(),ce.pipeline=ac())});var fc=k((Ah,lc)=>{"use strict";var{Buffer:me}=require("buffer"),cc=Symbol.for("BufferList");function A(e){if(!(this instanceof A))return new A(e);A._init.call(this,e)}A._init=function(t){Object.defineProperty(this,cc,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)};A.prototype._new=function(t){return new A(t)};A.prototype._offset=function(t){if(t===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(t<i||n===this._bufs.length-1)return[n,t-r];r=i}};A.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let n=0;n<t;n++)r+=this._bufs[n].length;return r};A.prototype.get=function(t){if(t>this.length||t<0)return;let r=this._offset(t);return this._bufs[r[0]][r[1]]};A.prototype.slice=function(t,r){return typeof t=="number"&&t<0&&(t+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,t,r)};A.prototype.copy=function(t,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return t||me.alloc(0);let o=!!t,a=this._offset(n),s=i-n,l=s,c=o&&r||0,f=a[1];if(n===0&&i===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:me.concat(this._bufs,this.length);for(let p=0;p<this._bufs.length;p++)this._bufs[p].copy(t,c),c+=this._bufs[p].length;return t}if(l<=this._bufs[a[0]].length-f)return o?this._bufs[a[0]].copy(t,r,f,f+l):this._bufs[a[0]].slice(f,f+l);o||(t=me.allocUnsafe(s));for(let p=a[0];p<this._bufs.length;p++){let u=this._bufs[p].length-f;if(l>u)this._bufs[p].copy(t,c,f),c+=u;else{this._bufs[p].copy(t,c,f,f+l),c+=u;break}l-=u,f&&(f=0)}return t.length>c?t.slice(0,c):t};A.prototype.shallowSlice=function(t,r){if(t=t||0,r=typeof r!="number"?this.length:r,t<0&&(t+=this.length),r<0&&(r+=this.length),t===r)return this._new();let n=this._offset(t),i=this._offset(r),o=this._bufs.slice(n[0],i[0]+1);return i[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),n[1]!==0&&(o[0]=o[0].slice(n[1])),this._new(o)};A.prototype.toString=function(t,r,n){return this.slice(r,n).toString(t)};A.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;)if(t>=this._bufs[0].length)t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}return this};A.prototype.duplicate=function(){let t=this._new();for(let r=0;r<this._bufs.length;r++)t.append(this._bufs[r]);return t};A.prototype.append=function(t){if(t==null)return this;if(t.buffer)this._appendBuffer(me.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let r=0;r<t.length;r++)this.append(t[r]);else if(this._isBufferList(t))for(let r=0;r<t._bufs.length;r++)this.append(t._bufs[r]);else typeof t=="number"&&(t=t.toString()),this._appendBuffer(me.from(t));return this};A.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length};A.prototype.indexOf=function(e,t,r){if(r===void 0&&typeof t=="string"&&(r=t,t=void 0),typeof e=="function"||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof e=="number"?e=me.from([e]):typeof e=="string"?e=me.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=me.from(e.buffer,e.byteOffset,e.byteLength):me.isBuffer(e)||(e=me.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),e.length===0)return t>this.length?this.length:t;let n=this._offset(t),i=n[0],o=n[1];for(;i<this._bufs.length;i++){let a=this._bufs[i];for(;o<a.length;)if(a.length-o>=e.length){let l=a.indexOf(e,o);if(l!==-1)return this._reverseOffset([i,l]);o=a.length-e.length+1}else{let l=this._reverseOffset([i,o]);if(this._match(l,e))return l;o++}o=0}return-1};A.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0};(function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)(function(r){e[r]===null?A.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:A.prototype[r]=function(n=0){return this.slice(n,n+e[r])[r](0)}})(t)})();A.prototype._isBufferList=function(t){return t instanceof A||A.isBufferList(t)};A.isBufferList=function(t){return t!=null&&t[cc]};lc.exports=A});var pc=k((Ih,Xn)=>{"use strict";var _o=sc().Duplex,Fd=Qe(),cr=fc();function Z(e){if(!(this instanceof Z))return new Z(e);if(typeof e=="function"){this._callback=e;let t=function(n){this._callback&&(this._callback(n),this._callback=null)}.bind(this);this.on("pipe",function(n){n.on("error",t)}),this.on("unpipe",function(n){n.removeListener("error",t)}),e=null}cr._init.call(this,e),_o.call(this)}Fd(Z,_o);Object.assign(Z.prototype,cr.prototype);Z.prototype._new=function(t){return new Z(t)};Z.prototype._write=function(t,r,n){this._appendBuffer(t),typeof n=="function"&&n()};Z.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)};Z.prototype.end=function(t){_o.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)};Z.prototype._destroy=function(t,r){this._bufs.length=0,this.length=0,r(t)};Z.prototype._isBufferList=function(t){return t instanceof Z||t instanceof cr||Z.isBufferList(t)};Z.isBufferList=cr.isBufferList;Xn.exports=Z;Xn.exports.BufferListStream=Z;Xn.exports.BufferList=cr});var Ac=k((iy,Ld)=>{Ld.exports={name:"thirdweb",main:"dist/cli/index.js",version:"0.11.20",repository:"https://github.com/thirdweb-dev/js/tree/main/packages/cli",author:"thirdweb eng <eng@thirdweb.com>",license:"Apache-2.0",engines:{node:">=16.0.0 <19"},devDependencies:{"@gmrchk/cli-testing-library":"^0.1.2","@thirdweb-dev/tsconfig":"workspace:*","@types/async-retry":"^1.3.0","@types/cross-spawn":"^6.0.2","@types/inquirer":"^8.2.1","@types/jest":"^29.5.3","@types/js-yaml":"^4.0.5","@types/node":"^18.17.1","@types/prompts":"^2.4.4","@types/rimraf":"^3.0.0","@types/tar":"^6.1.5","@types/update-notifier":"^6.0.4","@types/validate-npm-package-name":"^4.0.0",chalk:"^5.3.0","cross-spawn":"^7.0.3","dotenv-mono":"^1.3.10","eslint-config-thirdweb":"workspace:*",hardhat:"^2.17.0",jest:"^29.6.2",ora:"^6.3.1",prettier:"^3.0.0","ts-jest":"^29.1.1","ts-node":"^10.7.0",tsup:"^6.7.0",typescript:"^5.1.6"},dependencies:{"@iarna/toml":"^2.2.5","@thirdweb-dev/chains":"workspace:*","@thirdweb-dev/sdk":"workspace:*","@thirdweb-dev/storage":"workspace:*","async-retry":"^1.3.3",commander:"^9.1.0","detect-package-manager":"^2.0.1",enquirer:"^2.3.6",ethers:"^5.7.2",got:"11.8.5",inquirer:"^8.2.3","js-yaml":"^4.1.0","node-fetch":"^3.3.2",open:"^8.4.0",prompts:"^2.4.2",rimraf:"^3.0.2",solc:"0.8.17","sync-disk-cache":"^2.1.0",tar:"^6.1.15","update-notifier":"^6.0.2","validate-npm-package-name":"^4.0.0",yaml:"^2.3.1"},bin:{thirdweb:"./dist/cli/index.js"},scripts:{format:"prettier --write 'src/**/*'",lint:"eslint src/",fix:"eslint src/ --fix",clean:"rm -rf dist/",cli:"node -r ts-node/register src/cli/index.ts",build:"pnpm clean && tsup --env.NODE_ENV production --minify --format cjs --external hardhat --dts-resolve","build:watch":"pnpm run build --watch","generate-thirdweb-package":"node scripts/generate-thirdweb-package.js",e2e:"jest"},files:["src/","dist/"],tsup:{entry:["src/cli/index.ts","src/helpers/hardhat-config-extractor.ts"],splitting:!1,sourcemap:!0,clean:!0}}});var Yc=k((Ny,zc)=>{zc.exports=Hc;Hc.sync=Wd;var Jc=require("fs");function Ud(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function Vc(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Ud(t,r)}function Hc(e,t,r){Jc.stat(e,function(n,i){r(n,n?!1:Vc(i,e,t))})}function Wd(e,t){return Vc(Jc.statSync(e),e,t)}});var el=k((By,Qc)=>{Qc.exports=Xc;Xc.sync=Gd;var Kc=require("fs");function Xc(e,t,r){Kc.stat(e,function(n,i){r(n,n?!1:Zc(i,t))})}function Gd(e,t){return Zc(Kc.statSync(e),t)}function Zc(e,t){return e.isFile()&&Jd(e,t)}function Jd(e,t){var r=e.mode,n=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),f=s|l,p=r&c||r&l&&i===a||r&s&&n===o||r&f&&o===0;return p}});var rl=k((Uy,tl)=>{var qy=require("fs"),si;process.platform==="win32"||global.TESTING_WINDOWS?si=Yc():si=el();tl.exports=Ao;Ao.sync=Vd;function Ao(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Ao(e,t||{},function(o,a){o?i(o):n(a)})})}si(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function Vd(e,t){try{return si.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var ll=k((Wy,cl)=>{var Bt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",nl=require("path"),Hd=Bt?";":":",il=rl(),ol=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),al=(e,t)=>{let r=t.colon||Hd,n=e.match(/\//)||Bt&&e.match(/\\/)?[""]:[...Bt?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=Bt?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=Bt?i.split(r):[""];return Bt&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},sl=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:o}=al(e,t),a=[],s=c=>new Promise((f,p)=>{if(c===n.length)return t.all&&a.length?f(a):p(ol(e));let u=n[c],b=/^".*"$/.test(u)?u.slice(1,-1):u,h=nl.join(b,e),m=!b&&/^\.[\\\/]/.test(e)?e.slice(0,2)+h:h;f(l(m,c,0))}),l=(c,f,p)=>new Promise((u,b)=>{if(p===i.length)return u(s(f+1));let h=i[p];il(c+h,{pathExt:o},(m,_)=>{if(!m&&_)if(t.all)a.push(c+h);else return u(c+h);return u(l(c,f,p+1))})});return r?s(0).then(c=>r(null,c),r):s(0)},zd=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=al(e,t),o=[];for(let a=0;a<r.length;a++){let s=r[a],l=/^".*"$/.test(s)?s.slice(1,-1):s,c=nl.join(l,e),f=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let p=0;p<n.length;p++){let u=f+n[p];try{if(il.sync(u,{pathExt:i}))if(t.all)o.push(u);else return u}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw ol(e)};cl.exports=sl;sl.sync=zd});var pl=k((Gy,Io)=>{"use strict";var fl=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Io.exports=fl;Io.exports.default=fl});var hl=k((Jy,ml)=>{"use strict";var ul=require("path"),Yd=ll(),Kd=pl();function dl(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let a;try{a=Yd.sync(e.command,{path:r[Kd({env:r})],pathExt:t?ul.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return a&&(a=ul.resolve(i?e.options.cwd:"",a)),a}function Xd(e){return dl(e)||dl(e,!0)}ml.exports=Xd});var gl=k((Vy,Mo)=>{"use strict";var Oo=/([()\][%!^"`<>&|;, *?])/g;function Zd(e){return e=e.replace(Oo,"^$1"),e}function Qd(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(Oo,"^$1"),t&&(e=e.replace(Oo,"^$1")),e}Mo.exports.command=Zd;Mo.exports.argument=Qd});var bl=k((Hy,yl)=>{"use strict";yl.exports=/^#!(.*)/});var xl=k((zy,wl)=>{"use strict";var em=bl();wl.exports=(e="")=>{let t=e.match(em);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var vl=k((Yy,_l)=>{"use strict";var Lo=require("fs"),tm=xl();function rm(e){let r=Buffer.alloc(150),n;try{n=Lo.openSync(e,"r"),Lo.readSync(n,r,0,150,0),Lo.closeSync(n)}catch{}return tm(r.toString())}_l.exports=rm});var Tl=k((Ky,El)=>{"use strict";var nm=require("path"),kl=hl(),Sl=gl(),im=vl(),om=process.platform==="win32",am=/\.(?:com|exe)$/i,sm=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function cm(e){e.file=kl(e);let t=e.file&&im(e.file);return t?(e.args.unshift(e.file),e.command=t,kl(e)):e.file}function lm(e){if(!om)return e;let t=cm(e),r=!am.test(t);if(e.options.forceShell||r){let n=sm.test(t);e.command=nm.normalize(e.command),e.command=Sl.command(e.command),e.args=e.args.map(o=>Sl.argument(o,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function fm(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:lm(n)}El.exports=fm});var Rl=k((Xy,Pl)=>{"use strict";var No=process.platform==="win32";function Bo(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function pm(e,t){if(!No)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let o=Cl(i,t,"spawn");if(o)return r.call(e,"error",o)}return r.apply(e,arguments)}}function Cl(e,t){return No&&e===1&&!t.file?Bo(t.original,"spawn"):null}function um(e,t){return No&&e===1&&!t.file?Bo(t.original,"spawnSync"):null}Pl.exports={hookChildProcess:pm,verifyENOENT:Cl,verifyENOENTSync:um,notFoundError:Bo}});var Wo=k((Zy,qt)=>{"use strict";var Dl=require("child_process"),qo=Tl(),Uo=Rl();function Fl(e,t,r){let n=qo(e,t,r),i=Dl.spawn(n.command,n.args,n.options);return Uo.hookChildProcess(i,n),i}function dm(e,t,r){let n=qo(e,t,r),i=Dl.spawnSync(n.command,n.args,n.options);return i.error=i.error||Uo.verifyENOENTSync(i.status,n),i}qt.exports=Fl;qt.exports.spawn=Fl;qt.exports.sync=dm;qt.exports._parse=qo;qt.exports._enoent=Uo});var Bf=require("@thirdweb-dev/storage");var ya=(e=0)=>t=>`\x1B[${t+e}m`,ba=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,wa=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,I={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},Im=Object.keys(I.modifier),ep=Object.keys(I.color),tp=Object.keys(I.bgColor),Om=[...ep,...tp];function rp(){let e=new Map;for(let[t,r]of Object.entries(I)){for(let[n,i]of Object.entries(r))I[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=I[n],e.set(i[0],i[1]);Object.defineProperty(I,t,{value:r,enumerable:!1})}return Object.defineProperty(I,"codes",{value:e,enumerable:!1}),I.color.close="\x1B[39m",I.bgColor.close="\x1B[49m",I.color.ansi=ya(),I.color.ansi256=ba(),I.color.ansi16m=wa(),I.bgColor.ansi=ya(10),I.bgColor.ansi256=ba(10),I.bgColor.ansi16m=wa(10),Object.defineProperties(I,{rgbToAnsi256:{value(t,r,n){return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(t){let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(o=>o+o).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:t=>I.rgbToAnsi256(...I.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,i;if(t>=232)r=((t-232)*10+8)/255,n=r,i=r;else{t-=16;let s=t%36;r=Math.floor(t/36)/5,n=Math.floor(s/6)/5,i=s%6/5}let o=Math.max(r,n,i)*2;if(o===0)return 30;let a=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return o===2&&(a+=60),a},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>I.ansi256ToAnsi(I.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>I.ansi256ToAnsi(I.hexToAnsi256(t)),enumerable:!1}}),I}var np=rp(),de=np;var Sn=x(require("process"),1),_a=x(require("os"),1),Di=x(require("tty"),1);function oe(e,t=globalThis.Deno?globalThis.Deno.args:Sn.default.argv){let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:N}=Sn.default,kn;oe("no-color")||oe("no-colors")||oe("color=false")||oe("color=never")?kn=0:(oe("color")||oe("colors")||oe("color=true")||oe("color=always"))&&(kn=1);function ip(){if("FORCE_COLOR"in N)return N.FORCE_COLOR==="true"?1:N.FORCE_COLOR==="false"?0:N.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(N.FORCE_COLOR,10),3)}function op(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function ap(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let n=ip();n!==void 0&&(kn=n);let i=r?kn:n;if(i===0)return 0;if(r){if(oe("color=16m")||oe("color=full")||oe("color=truecolor"))return 3;if(oe("color=256"))return 2}if("TF_BUILD"in N&&"AGENT_NAME"in N)return 1;if(e&&!t&&i===void 0)return 0;let o=i||0;if(N.TERM==="dumb")return o;if(Sn.default.platform==="win32"){let a=_a.default.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in N)return"GITHUB_ACTIONS"in N||"GITEA_ACTIONS"in N?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(a=>a in N)||N.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in N)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(N.TEAMCITY_VERSION)?1:0;if(N.COLORTERM==="truecolor"||N.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in N){let a=Number.parseInt((N.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(N.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(N.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(N.TERM)||"COLORTERM"in N?1:o}function xa(e,t={}){let r=ap(e,{streamIsTTY:e&&e.isTTY,...t});return op(r)}var sp={stdout:xa({isTTY:Di.default.isatty(1)}),stderr:xa({isTTY:Di.default.isatty(2)})},va=sp;function ka(e,t,r){let n=e.indexOf(t);if(n===-1)return e;let i=t.length,o=0,a="";do a+=e.slice(o,n)+t+r,o=n+i,n=e.indexOf(t,o);while(n!==-1);return a+=e.slice(o),a}function Sa(e,t,r,n){let i=0,o="";do{let a=e[n-1]==="\r";o+=e.slice(i,a?n-1:n)+t+(a?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return o+=e.slice(i),o}var{stdout:Ea,stderr:Ta}=va,Fi=Symbol("GENERATOR"),wt=Symbol("STYLER"),Ht=Symbol("IS_EMPTY"),Ca=["ansi","ansi","ansi256","ansi16m"],xt=Object.create(null),cp=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Ea?Ea.level:0;e.level=t.level===void 0?r:t.level};var lp=e=>{let t=(...r)=>r.join(" ");return cp(t,e),Object.setPrototypeOf(t,zt.prototype),t};function zt(e){return lp(e)}Object.setPrototypeOf(zt.prototype,Function.prototype);for(let[e,t]of Object.entries(de))xt[e]={get(){let r=En(this,$i(t.open,t.close,this[wt]),this[Ht]);return Object.defineProperty(this,e,{value:r}),r}};xt.visible={get(){let e=En(this,this[wt],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var ji=(e,t,r,...n)=>e==="rgb"?t==="ansi16m"?de[r].ansi16m(...n):t==="ansi256"?de[r].ansi256(de.rgbToAnsi256(...n)):de[r].ansi(de.rgbToAnsi(...n)):e==="hex"?ji("rgb",t,r,...de.hexToRgb(...n)):de[r][e](...n),fp=["rgb","hex","ansi256"];for(let e of fp){xt[e]={get(){let{level:r}=this;return function(...n){let i=$i(ji(e,Ca[r],"color",...n),de.color.close,this[wt]);return En(this,i,this[Ht])}}};let t="bg"+e[0].toUpperCase()+e.slice(1);xt[t]={get(){let{level:r}=this;return function(...n){let i=$i(ji(e,Ca[r],"bgColor",...n),de.bgColor.close,this[wt]);return En(this,i,this[Ht])}}}}var pp=Object.defineProperties(()=>{},{...xt,level:{enumerable:!0,get(){return this[Fi].level},set(e){this[Fi].level=e}}}),$i=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},En=(e,t,r)=>{let n=(...i)=>up(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,pp),n[Fi]=e,n[wt]=t,n[Ht]=r,n},up=(e,t)=>{if(e.level<=0||!t)return e[Ht]?"":t;let r=e[wt];if(r===void 0)return t;let{openAll:n,closeAll:i}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=ka(t,r.close,r.open),r=r.parent;let o=t.indexOf(`
`);return o!==-1&&(t=Sa(t,i,n,o)),n+t+i};Object.defineProperties(zt.prototype,xt);var dp=zt(),Wm=zt({level:Ta?Ta.level:0});var d=dp;var vn=require("child_process"),qf=require("commander"),Pi=x(require("open")),Uf=x(require("os")),Wf=x(require("path")),Gf=x(require("prompts")),Jf=x(require("sync-disk-cache"));var Pa=x(require("prompts")),Ra=x(require("os"));async function Ye(e,t,r){let n=mp(e);return n&&!t?.new?(r&&console.log(d.green("You are already logged in")),n):await hp(e)}async function Da(e){try{e.remove("api-secret-key"),console.log(d.green("You have been logged out"))}catch(t){console.log(d.red("Something went wrong",t))}}function mp(e){try{return e.get("api-secret-key").value}catch(t){console.log(t)}}async function hp(e){try{Ra.default.type()==="Windows_NT"&&console.log(d.yellow("Windows detected: if you are using powershell, there are some known issues with it that we are actively working on, please use git bash or the command prompt. Thank you for your understanding."));let r=await(0,Pa.default)({type:"invisible",name:"apiSecretKey",message:`Please enter your API secret key, you can find or create it on ${d.blue("https://thirdweb.com/create-api-key")}`}),n=r.apiSecretKey;n||(console.log(d.red("You need to pass an API secret key")),process.exit(1)),n.length===32&&(console.log(d.red(`This is not a valid secret key. To get your secret key
1. Create an API key at https://thirdweb.com/create-api-key 
2. Store and copy your Secret Key. This will be shown only once.
3. Paste it in the CLI when prompted`)),process.exit(1));try{await Ke(r.apiSecretKey)}catch(i){console.log(i),process.exit(1)}return e.set("api-secret-key",r.apiSecretKey),r.apiSecretKey}catch(t){console.log(t)}}async function Ke(e){let t=(await import("node-fetch")).default,r=await t("https://api.thirdweb.com/v1/keys/use?scope=storage",{method:"GET",headers:{"Content-Type":"application/json","x-secret-key":e}}),n=await r.json();if(r.ok)return e;{let{error:i}=n;throw new Error(d.red(i.message))}}var Tn=["ContractMetadata","Permissions"];var fr=x(require("process"),1);var Mi=x(require("process"),1);var qa=x(require("process"),1),Ua=x(Aa(),1),Wa=x(Ba(),1),yp=(0,Ua.default)(()=>{(0,Wa.default)(()=>{qa.default.stderr.write("\x1B[?25h")},{alwaysLast:!0})}),Ga=yp;var $n=!1,St={};St.show=(e=Mi.default.stderr)=>{e.isTTY&&($n=!1,e.write("\x1B[?25h"))};St.hide=(e=Mi.default.stderr)=>{e.isTTY&&(Ga(),$n=!0,e.write("\x1B[?25l"))};St.toggle=(e,t)=>{e!==void 0&&($n=e),$n?St.show(t):St.hide(t)};var Li=St;var pr=x(Ni(),1);var ae=x(require("process"),1);function Kt(){return ae.default.platform!=="win32"?ae.default.env.TERM!=="linux":!!ae.default.env.CI||!!ae.default.env.WT_SESSION||!!ae.default.env.TERMINUS_SUBLIME||ae.default.env.ConEmuTask==="{cmd::Cmder}"||ae.default.env.TERM_PROGRAM==="Terminus-Sublime"||ae.default.env.TERM_PROGRAM==="vscode"||ae.default.env.TERM==="xterm-256color"||ae.default.env.TERM==="alacritty"||ae.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var wp={info:d.blue("\u2139"),success:d.green("\u2714"),warning:d.yellow("\u26A0"),error:d.red("\u2716")},xp={info:d.blue("i"),success:d.green("\u221A"),warning:d.yellow("\u203C"),error:d.red("\xD7")},_p=Kt()?wp:xp,Xt=_p;function Bi({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}function qi(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Bi(),"")}var mc=x(rs(),1);function Wi({stream:e=process.stdout}={}){return!!(e&&e.isTTY&&process.env.TERM!=="dumb"&&!("CI"in process.env))}var le=x(require("process"),1),uc=x(require("readline"),1),dc=x(pc(),1);var jd=3,Re,lr,Rt,Be,vo=class{constructor(){L(this,Re,0);L(this,lr,new dc.BufferListStream);L(this,Rt,void 0);L(this,Be,void 0);g(this,lr).pipe(le.default.stdout);let t=this;T(this,Rt,function(r,n,...i){let{stdin:o}=le.default;if(g(t,Re)>0||o.emit===g(t,Rt)){if(r==="keypress")return;r==="data"&&n.includes(jd)&&le.default.emit("SIGINT"),Reflect.apply(g(t,Rt),this,[r,n,...i])}else Reflect.apply(le.default.stdin.emit,this,[r,n,...i])})}start(){Vt(this,Re)._++,g(this,Re)===1&&this._realStart()}stop(){if(g(this,Re)<=0)throw new Error("`stop` called more times than `start`");Vt(this,Re)._--,g(this,Re)===0&&this._realStop()}_realStart(){le.default.platform!=="win32"&&(T(this,Be,uc.default.createInterface({input:le.default.stdin,output:g(this,lr)})),g(this,Be).on("SIGINT",()=>{le.default.listenerCount("SIGINT")===0?le.default.emit("SIGINT"):(g(this,Be).close(),le.default.kill(le.default.pid,"SIGINT"))}))}_realStop(){le.default.platform!=="win32"&&(g(this,Be).close(),T(this,Be,void 0))}};Re=new WeakMap,lr=new WeakMap,Rt=new WeakMap,Be=new WeakMap;var $d=new vo,ko=$d;var Ad=x(Ni(),1);var qe,Dt,ot,De,W,ve,z,at,Ft,ke,Se,Ee,jt,he,ge,So=class{constructor(t){L(this,qe,0);L(this,Dt,!1);L(this,ot,0);L(this,De,0);L(this,W,void 0);L(this,ve,void 0);L(this,z,void 0);L(this,at,void 0);L(this,Ft,void 0);L(this,ke,void 0);L(this,Se,void 0);L(this,Ee,void 0);L(this,jt,void 0);L(this,he,void 0);L(this,ge,void 0);ha(this,"color");typeof t=="string"&&(t={text:t}),T(this,W,{color:"cyan",stream:fr.default.stderr,discardStdin:!0,hideCursor:!0,...t}),this.color=g(this,W).color,this.spinner=g(this,W).spinner,T(this,Ft,g(this,W).interval),T(this,z,g(this,W).stream),T(this,ke,typeof g(this,W).isEnabled=="boolean"?g(this,W).isEnabled:Wi({stream:g(this,z)})),T(this,Se,typeof g(this,W).isSilent=="boolean"?g(this,W).isSilent:!1),this.text=g(this,W).text,this.prefixText=g(this,W).prefixText,this.suffixText=g(this,W).suffixText,this.indent=g(this,W).indent,fr.default.env.NODE_ENV==="test"&&(this._stream=g(this,z),this._isEnabled=g(this,ke),Object.defineProperty(this,"_linesToClear",{get(){return g(this,qe)},set(r){T(this,qe,r)}}),Object.defineProperty(this,"_frameIndex",{get(){return g(this,De)}}),Object.defineProperty(this,"_lineCount",{get(){return g(this,ot)}}))}get indent(){return g(this,Ee)}set indent(t=0){if(!(t>=0&&Number.isInteger(t)))throw new Error("The `indent` option must be an integer from 0 and up");T(this,Ee,t),this.updateLineCount()}get interval(){return g(this,Ft)||g(this,ve).interval||100}get spinner(){return g(this,ve)}set spinner(t){if(T(this,De,0),T(this,Ft,void 0),typeof t=="object"){if(t.frames===void 0)throw new Error("The given spinner must have a `frames` property");T(this,ve,t)}else if(!Kt())T(this,ve,pr.default.line);else if(t===void 0)T(this,ve,pr.default.dots);else if(t!=="default"&&pr.default[t])T(this,ve,pr.default[t]);else throw new Error(`There is no built-in spinner named '${t}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`)}get text(){return g(this,jt)}set text(t){T(this,jt,t||""),this.updateLineCount()}get prefixText(){return g(this,he)}set prefixText(t){T(this,he,t||""),this.updateLineCount()}get suffixText(){return g(this,ge)}set suffixText(t){T(this,ge,t||""),this.updateLineCount()}get isSpinning(){return g(this,at)!==void 0}getFullPrefixText(t=g(this,he),r=" "){return typeof t=="string"&&t!==""?t+r:typeof t=="function"?t()+r:""}getFullSuffixText(t=g(this,ge),r=" "){return typeof t=="string"&&t!==""?r+t:typeof t=="function"?r+t():""}updateLineCount(){let t=g(this,z).columns||80,r=this.getFullPrefixText(g(this,he),"-"),n=this.getFullSuffixText(g(this,ge),"-"),i=" ".repeat(g(this,Ee))+r+"--"+g(this,jt)+"--"+n;T(this,ot,0);for(let o of qi(i).split(`
`))T(this,ot,g(this,ot)+Math.max(1,Math.ceil((0,mc.default)(o)/t)))}get isEnabled(){return g(this,ke)&&!g(this,Se)}set isEnabled(t){if(typeof t!="boolean")throw new TypeError("The `isEnabled` option must be a boolean");T(this,ke,t)}get isSilent(){return g(this,Se)}set isSilent(t){if(typeof t!="boolean")throw new TypeError("The `isSilent` option must be a boolean");T(this,Se,t)}frame(){let{frames:t}=g(this,ve),r=t[g(this,De)];this.color&&(r=d[this.color](r)),T(this,De,++Vt(this,De)._%t.length);let n=typeof g(this,he)=="string"&&g(this,he)!==""?g(this,he)+" ":"",i=typeof this.text=="string"?" "+this.text:"",o=typeof g(this,ge)=="string"&&g(this,ge)!==""?" "+g(this,ge):"";return n+r+i+o}clear(){if(!g(this,ke)||!g(this,z).isTTY)return this;g(this,z).cursorTo(0);for(let t=0;t<g(this,qe);t++)t>0&&g(this,z).moveCursor(0,-1),g(this,z).clearLine(1);return(g(this,Ee)||this.lastIndent!==g(this,Ee))&&g(this,z).cursorTo(g(this,Ee)),this.lastIndent=g(this,Ee),T(this,qe,0),this}render(){return g(this,Se)?this:(this.clear(),g(this,z).write(this.frame()),T(this,qe,g(this,ot)),this)}start(t){return t&&(this.text=t),g(this,Se)?this:g(this,ke)?this.isSpinning?this:(g(this,W).hideCursor&&Li.hide(g(this,z)),g(this,W).discardStdin&&fr.default.stdin.isTTY&&(T(this,Dt,!0),ko.start()),this.render(),T(this,at,setInterval(this.render.bind(this),this.interval)),this):(this.text&&g(this,z).write(`- ${this.text}
`),this)}stop(){return g(this,ke)?(clearInterval(g(this,at)),T(this,at,void 0),T(this,De,0),this.clear(),g(this,W).hideCursor&&Li.show(g(this,z)),g(this,W).discardStdin&&fr.default.stdin.isTTY&&g(this,Dt)&&(ko.stop(),T(this,Dt,!1)),this):this}succeed(t){return this.stopAndPersist({symbol:Xt.success,text:t})}fail(t){return this.stopAndPersist({symbol:Xt.error,text:t})}warn(t){return this.stopAndPersist({symbol:Xt.warning,text:t})}info(t){return this.stopAndPersist({symbol:Xt.info,text:t})}stopAndPersist(t={}){if(g(this,Se))return this;let r=t.prefixText||g(this,he),n=this.getFullPrefixText(r," "),i=t.symbol||" ",o=t.text||this.text,a=typeof o=="string"?" "+o:"",s=t.suffixText!==void 0?t.suffixText:g(this,ge),l=this.getFullSuffixText(s," "),c=n+i+a+l+`
`;return this.stop(),g(this,z).write(c),this}};qe=new WeakMap,Dt=new WeakMap,ot=new WeakMap,De=new WeakMap,W=new WeakMap,ve=new WeakMap,z=new WeakMap,at=new WeakMap,Ft=new WeakMap,ke=new WeakMap,Se=new WeakMap,Ee=new WeakMap,jt=new WeakMap,he=new WeakMap,ge=new WeakMap;function j(e){return new So(e)}function Zn(e,t){let r=["debug","info","warn","error"];return r.indexOf(t)>=r.indexOf(e)}var Fe,Eo=class{constructor(t){L(this,Fe,"info");t?.minLevel&&T(this,Fe,t.minLevel)}setSettings(t){t.minLevel&&T(this,Fe,t.minLevel)}debug(...t){Zn(g(this,Fe),"debug")&&console.info(...t)}info(...t){Zn(g(this,Fe),"info")&&console.info(...t)}warn(...t){Zn(g(this,Fe),"warn")&&console.warn(...t)}error(...t){Zn(g(this,Fe),"error")&&console.error(...t)}};Fe=new WeakMap;var y=new Eo;function ne(e){return j(`${e}
`).start()}function F(e){return j(e).succeed()}function hc(e){return j(e).warn()}function ur(e){return j(e).fail()}var ye=require("fs"),Ue=require("path");function ie(e,t,r){if(!(0,ye.existsSync)(e)){console.log("no dir ",e);return}let n=(0,ye.readdirSync)(e);for(let i=0;i<n.length;i++){let o=(0,Ue.join)(e,n[i]);if((0,Ue.basename)(o,".json")==="ThirdwebContract")continue;let a=(0,ye.statSync)(o);if(a.isDirectory()&&(0,Ue.basename)(o)==="dependencies"){y.debug('skipping "dependencies" directory');continue}else if(a.isDirectory()&&(0,Ue.basename)(o)==="node_modules"){y.debug('skipping "node_modules" directory');continue}a.isDirectory()?ie(o,t,r):t.test(o)&&r.push(o)}}function To(e,t,r){if(!(0,ye.existsSync)(e)){console.log("no dir ",e);return}let n=(0,ye.readdirSync)(e);for(let i=0;i<n.length;i++){let o=(0,Ue.join)(e,n[i]),a=(0,ye.statSync)(o);if(!(a.isDirectory()&&(0,Ue.basename)(o)==="node_modules")&&!(a.isDirectory()&&o.startsWith(".")))if(a.isDirectory())To(o,t,r);else{let l=(0,ye.readFileSync)(o,"utf-8").match(t);l&&r.push(...l)}}}var gc=require("child_process");async function Y(e,t,r={log:!1,cwd:t}){return new Promise((n,i)=>{(0,gc.exec)(e,{...r},(o,a,s)=>{if(o){i(o);return}n({stdout:a,stderr:s})})})}var yc=require("@thirdweb-dev/sdk/evm"),fe=class{shouldProcessContract(t,r,n,i){if(!r||r===""||r==="0x"||!t||t.length===0)return!1;if(n==="ThirdwebContract"||n.toLowerCase().includes("test")||n.toLowerCase().includes("mock"))return y.debug(`Skipping '${n}'.`),!1;if(!i){let o;try{o=(0,yc.extractIPFSHashFromBytecode)(r)}catch(a){y.debug(`Error extracting IPFS hash from '${n}': ${a}`)}if(!o)return y.debug(`Cannot resolve build metadata IPFS hash for contract '${n}'. Skipping.`),!1}return!0}isThirdwebContract(t){try{return t.name==="setThirdwebInfo"&&t.inputs[0].internalType==="struct ThirdwebContract.ThirdwebInfo"?(y.error("You are using an old version of ThirdwebContract, please update to the latest version: 'npm i @thirdweb-dev/contracts'"),!1):t.name==="tw_initializeOwner"&&t.inputs[0].internalType==="address"}catch{return!1}}};var st=require("fs"),$t=require("path"),bc=require("yaml"),Qn=class extends fe{async compile(t){let r=(0,bc.parse)((0,st.readFileSync)((0,$t.join)(t.projectPath,"brownie-config.yaml"),"utf-8")),n=(0,$t.join)(t.projectPath,r?.project_structure?.build||"./build");(0,st.existsSync)(n)&&(0,st.rmSync)(n,{recursive:!0}),await Y("brownie compile",t.projectPath);let i=(0,$t.join)(n,"contracts/"),o=[],a=[];ie(i,/^.*(?<!dbg)\.json$/,a);for(let s of a){y.debug("Processing:",s.replace(i,""));let l=(0,$t.basename)(s,".json"),c=(0,st.readFileSync)(s,"utf-8"),f=JSON.parse(c),{abi:p,bytecode:u}=f;for(let b of p)if(this.isThirdwebContract(b)){o.find(h=>h.name===l)&&(y.error(`Found multiple contracts with name "${l}". Contract names should be unique.`),process.exit(1)),o.push({metadata:{},bytecode:u,sources:[],fileName:"",name:l});break}}return{contracts:o}}};var wc=require("child_process");async function ei(){return await new Promise(e=>{(0,wc.exec)("forge --version",t=>{e(!t)})})}var At=require("fs"),It=require("path"),ti=class extends fe{async compile(t){await ei()||(console.error(`
${d.redBright("error")} You don't have forge installed on this machine!

You can install forge by following these instructions:
${d.blueBright("https://book.getfoundry.sh/getting-started/installation")}
`),process.exit(1)),t.clean&&await Y("forge clean",t.projectPath),await Y("forge build --extra-output metadata",t.projectPath);let n=(await Y("forge config --json",t.projectPath)).stdout,i=JSON.parse(n),o=(0,It.join)(t.projectPath,i.out),a=[],s=[];ie(o,/^.*(?<!metadata)\.json$/,s);for(let l=0;l<s.length;l++){let c=s[l],f=(0,It.basename)(c,".json"),p=(0,At.readFileSync)(c,"utf-8"),u=JSON.parse(p);if(!u.bytecode||!u.deployedBytecode||!u.metadata){y.debug("Skipping",f,"(no bytecode or metadata)");continue}let b=u.metadata.settings.compilationTarget;if(Object.keys(b).length===0||Object.keys(b)[0].includes("@")||this.isTestOrScript(Object.keys(b)[0])){y.debug("Skipping",f,"(not a source target)");continue}if(f.startsWith("std")){y.debug("Skipping",f,"(std library contract)");continue}let h=u.bytecode.object,m=u.deployedBytecode.object,_=u.metadata,w=u.rawMetadata||this.sanitizeParsedMetadata(_,u.abi),v=Object.keys(_.sources).map($=>{if($.startsWith("/")&&(0,At.existsSync)($))return $;let q=(0,It.join)(t.projectPath,$);if((0,At.existsSync)(q))return q;let X=(0,It.join)(t.projectPath,"node_modules",$);if((0,At.existsSync)(X))return X}).filter($=>$!==void 0),C=Object.keys(_?.settings?.compilationTarget||{}),R=C.length>0?C[0]:"";this.shouldProcessContract(u.abi,m,f)&&a.push({name:f,metadata:w,bytecode:h,fileName:R,sources:v})}return{contracts:a}}isTestOrScript(t){return t.endsWith(".s.sol")||t.endsWith(".t.sol")}sort(t){if(typeof t!="object"||t instanceof Array)return t;let r=Object.keys(t);r.sort();let n={};for(let i=0;i<r.length;i++)n[r[i]]=this.sort(t[r[i]]);return n}sanitizeParsedMetadata(t,r){t.output.abi=r,t.settings.libraries||(t.settings.libraries={}),t.settings.evmVersion||(t.settings.evmVersion="london"),delete t.settings.outputSelection;let n=this.sort(t);return JSON.stringify(n)}};var Ot=require("fs"),We=require("path"),ri=class extends fe{async compile(t){let r=(0,We.resolve)(__dirname,"../helpers/hardhat-config-extractor.js"),n=(await Y(`npx hardhat run "${r}" --no-compile`,t.projectPath)).stdout,i=JSON.parse(n.split("__tw__")[1]);y.debug("successfully extracted hardhat config",i),await Y("npx hardhat clean",t.projectPath);let o=!1;if(t.zksync){let h=Object.entries(i.networks).find(m=>m[1].zksync);o=(h?.[1]).zksync,await Y(`npx hardhat compile --network ${h?.[0]}`,t.projectPath)}else await Y("npx hardhat compile",t.projectPath);let a=i.solidity.compilers;if(a)for(let h of a){let m=h.settings?.metadata?.bytecodeHash;if(m&&m!=="ipfs")throw new Error(`Deploying requires "bytecodeHash: 'ipfs'" in your hardhat.config.js file, but it's currently set as "bytecodeHash: '${m}'". Please change it to 'ipfs' and try again.`)}let s=i.paths.artifacts,l=i.paths.sources.replace(t.projectPath,""),c=(0,We.join)(s,l),f=[];ie(c,/^.*(?<!dbg)\.json$/,[]);let u=(0,We.join)(s,"build-info"),b=[];ie(u,/^.*(?<!dbg)\.json$/,b);for(let h of b){let m=(0,Ot.readFileSync)(h,"utf-8"),w=JSON.parse(m).output.contracts;for(let[v,C]of Object.entries(w)){if(v.includes("@")){y.debug("Skipping",v,"(not a source target)");continue}for(let[R,$]of Object.entries(C)){let q=$;if(!q.evm||!q.evm.bytecode||!q.evm.bytecode.object||!q.metadata||!q.abi){y.debug("Skipping",v,"(no bytecode or metadata)");continue}let X=q.evm.bytecode.object,Ce=q.evm.deployedBytecode?.object||X,{metadata:Ae,abi:Q}=q,S=Ae.solc_metadata?JSON.parse(Ae.solc_metadata):JSON.parse(Ae),ue=Object.keys(S.sources).map(Jt=>{let ua=(0,We.join)(t.projectPath,Jt);if((0,Ot.existsSync)(ua))return ua;let da=(0,We.join)(t.projectPath,l,Jt);if((0,Ot.existsSync)(da))return da;let ma=(0,We.join)(t.projectPath,"node_modules",Jt);if((0,Ot.existsSync)(ma))return ma}).filter(Jt=>Jt!==void 0),we=Object.keys(S?.settings?.compilationTarget||{}),Vf=we.length>0?we[0]:"";this.shouldProcessContract(Q,Ce,R,o)&&f.push({metadata:JSON.stringify(S),bytecode:X,name:R,fileName:Vf,sources:ue})}}}return{contracts:f}}};var V=require("fs"),je=require("path"),xc=x(require("solc")),ni=class extends fe{async compile(t){let r=[];ie(t.projectPath,/^.*\.sol$/,r);let n=r.reduce((c,f)=>{let p=(0,V.readFileSync)(f,"utf-8");return c[(0,je.basename)(f)]={content:p},c},{}),i={language:"Solidity",sources:n,settings:{outputSelection:{"*":{"*":["*"]}},optimizer:{enabled:!0,runs:800}}},o=JSON.parse(xc.default.compile(JSON.stringify(i),{import:c=>{let f=(0,je.join)(t.projectPath,"node_modules",c);return(0,V.existsSync)(f)?{contents:(0,V.readFileSync)(f,"utf-8")}:{error:"file not found"}}}));if(o.errors)throw y.error(o.errors),new Error("Error compiling Solidity files");let a=(0,je.join)(t.projectPath,"artifacts");(0,V.existsSync)(a)&&(0,V.rmSync)(a,{recursive:!0}),(0,V.existsSync)(a)||(0,V.mkdirSync)(a),Object.keys(o.contracts).filter(c=>c in n).forEach(c=>{let f=o.contracts[c],p=(0,je.join)(t.projectPath,"artifacts",c);(0,V.existsSync)(p)||(0,V.mkdirSync)(p);let u=Object.keys(f);for(let b of u){let h=f[b],m=(0,je.join)(p,b+".json");(0,V.writeFileSync)(m,JSON.stringify(h,null,2))}});let s=[],l=[];ie(a,/^.*(?<!dbg)\.json$/,l);for(let c of l){y.debug("Processing:",c.replace(a,""));let f=(0,je.basename)(c,".json"),p=(0,V.readFileSync)(c,"utf-8"),u=JSON.parse(p),b=u.evm.bytecode.object,h=u.evm.deployedBytecode.object,m=u.metadata,_=JSON.parse(m),w=_.output.abi,v=_.settings.compilationTarget;if(Object.keys(v).length===0||Object.keys(v)[0].includes("@")){y.debug("Skipping",f,"(not a source target)");continue}let C=Object.keys(_.sources).map(q=>{let X=r.find(Ae=>Ae.includes(q));if(X&&(0,V.existsSync)(X))return X;let Ce=(0,je.join)(t.projectPath,"node_modules",q);if((0,V.existsSync)(Ce))return Ce}).filter(q=>q!==void 0),R=Object.keys(_?.settings?.compilationTarget||{}),$=R.length>0?R[0]:"";this.shouldProcessContract(w,h,f)&&s.push({metadata:m,bytecode:b,name:f,fileName:$,sources:C})}return{contracts:s}}};var Ge=require("fs"),dr=require("path"),ii=class extends fe{async compile(t){let r=require((0,dr.join)(t.projectPath,"truffle-config.js")),n=(0,dr.join)(t.projectPath,r.contracts_build_directory||"./build/contracts");(0,Ge.existsSync)(n)&&(0,Ge.rmSync)(n,{recursive:!0}),await Y("npx --yes truffle compile",t.projectPath);let i=[],o=[];ie(n,/^.*(?<!dbg)\.json$/,o);for(let a of o){y.debug("Processing:",a.replace(n,""));let s=(0,Ge.readFileSync)(a,"utf-8"),l=JSON.parse(s),{contractName:c,metadata:f,bytecode:p,deployedBytecode:u}=l,b=JSON.parse(f),h=b.output.abi,m=b.settings.compilationTarget;if(Object.keys(m).length===0||Object.keys(m)[0].includes("@")){y.debug("Skipping",c,"(not a source target)");continue}let _=Object.keys(b.sources).map(C=>{C=C.replace("project:/","");let R=(0,dr.join)(t.projectPath,C);if((0,Ge.existsSync)(R))return R;let $=(0,dr.join)(t.projectPath,"node_modules",C);if((0,Ge.existsSync)($))return $}).filter(C=>C!==void 0),w=Object.keys(b?.settings?.compilationTarget||{}),v=w.length>0?w[0]:"";this.shouldProcessContract(h,u,c)&&i.push({metadata:f,bytecode:p,name:c,fileName:v,sources:_})}return{contracts:i}}};async function ct(e,t,r){let n;switch(t){case"hardhat":{n=new ri;break}case"foundry":{n=new ti;break}case"truffle":{n=new ii;break}case"brownie":{n=new Qn;break}default:{n=new ni;break}}return await n.compile({name:"",projectPath:e,clean:r.clean,zksync:r.zksync})}var pe={typeOfProject:"What type of project do you want to create?",projectName:"What is your project named?",contractName:"What will be the name of your new smart contract?",extensionName:"What will be the name of your new extension?",chain:"Which blockchain do you want to use?",framework:"What framework do you want to use?",language:"What language do you want to use?",contract:"What type of contract do you want to start from?",extensions:"What extensions do you want to add to your contract?",reactNative:"What type of React Native project do you want to create?"},_c={chains:"What chains are you using in your project?"},vc={noConfiguration:"No contract project configuration file found in current directory"};var kc=require("fs"),mr=class{constructor(){this.projectType="foundry"}matches(t){return(0,kc.existsSync)(t+"/foundry.toml")}};var Co=require("fs"),hr=class{constructor(){this.projectType="hardhat"}matches(t){return(0,Co.existsSync)(t+"/hardhat.config.js")||(0,Co.existsSync)(t+"/hardhat.config.ts")}};var Sc=require("fs"),gr=class{constructor(){this.projectType="truffle"}matches(t){return(0,Sc.existsSync)(t+"/truffle-config.js")}};var oi=require("fs"),Ec=x(require("inquirer")),Tc=require("path"),{Confirm:Id}=require("enquirer");async function lt(e,t){let n=[new hr,new mr,new gr].filter(o=>o.matches(e)).map(o=>o.projectType);if(!n.length)return Od(e)?(hc(`${vc.noConfiguration} ${e}`),await new Id({name:"continue",message:"Do you want to continue and compile this project with solc instead?",initial:!0}).run()||(y.warn("Aborted contract compilation"),process.exit(1)),"solc"):"none";if(n.length===1)return F(`Detected project type: ${n[0]}`),n[0];F(`Detected multiple possible build tools: ${n.map(o=>`"${o}"`).join(", ")}`);let i="How would you like to compile your contracts";return t.ci?n[0]:(await Ec.default.prompt({type:"list",choices:n,name:i}))[i]}function Od(e){return["","/contracts"].filter(t=>{let r=e+t;return(0,oi.existsSync)(r)?(0,oi.readdirSync)(r).filter(o=>{let{ext:a}=(0,Tc.parse)(o);return a===".sol"}).length>0:!1}).length>0}var Cc=x(require("prompts")),{MultiSelect:Md}=require("enquirer");function Mt(e,t){return new Md({name:"value",message:t,hint:"Use <space> to select, <return> to submit",choices:e,result(r){return this.map(r)},onSubmit(){this.selected.length===0&&this.enable(this.focused)},indicator(r,n){return n.enabled?this.styles.primary(this.symbols.hexagon.on):this.symbols.hexagon.off},styles:{primary:d.blueBright,get em(){return this.primary}}})}async function Pc(e,t){return await(0,Cc.default)({type:"select",name:"routerType",message:t,choices:e})}var Po=require("child_process");function Lt(){try{let e=process.env.npm_config_user_agent;if(e){if(e.startsWith("yarn"))return"yarn";if(e.startsWith("pnpm"))return"pnpm"}try{return(0,Po.execSync)("yarn --version",{stdio:"ignore"}),"yarn"}catch{return(0,Po.execSync)("pnpm --version",{stdio:"ignore"}),"pnpm"}}catch{return"npm"}}var Rc=require("@thirdweb-dev/sdk");var ai=require("fs");var Dc=x(require("path"));async function Fc(e){y.setSettings({minLevel:e.debug?"debug":"info"});let t=process.cwd();e.path&&(y.debug("Overriding project path to "+e.path),t=e.path.startsWith("/")?e.path:Dc.default.resolve(`${t}/${e.path}`)),y.debug("Processing project at path "+t);let r=await lt(t,e),n,i=ne("Compiling project...");try{n=await ct(t,r,e)}catch(s){i.fail("Compilation failed"),y.error(s),process.exit(1)}i.succeed("Compilation successful");let o=[];if(n.contracts.length===1)o=[n.contracts[0]];else if(e.all)o=n.contracts;else{let s=n.contracts.map(f=>({name:f.name,value:f})),c=await Mt(s,"Choose which contracts to run detection on").run();o=Object.keys(c).map(f=>c[f])}o.map(s=>{let l=JSON.parse(s.metadata).output.abi,c=jc((0,Rc.detectFeatures)(l)),f=c.enabledFeatures.map(u=>({name:u.name,reference:`https://portal.thirdweb.com/interfaces/${u.name.toLowerCase()}`})),p=c.suggestedFeatures.map(u=>({name:u.name,reference:`https://portal.thirdweb.com/interfaces/${u.name.toLowerCase()}`}));return{name:s.name,enabledFeatures:f,suggestedFeatures:p}}).map(s=>{y.info(`
`),s.enabledFeatures.length===0?j(`No extensions detected on ${d.blueBright(s.name)}`).stopAndPersist({symbol:"\u{1F50E}"}):(j(`Detected extension on ${d.blueBright(s.name)}`).stopAndPersist({symbol:"\u{1F50E}"}),s.enabledFeatures.map(c=>{y.info(`\u2714\uFE0F ${d.green(c.name)}`)})),y.info(""),j("Suggested extensions").info(),s.suggestedFeatures.map(c=>{y.info(`${d.dim(d.gray("-"))} ${d.gray(c.name)} - ${d.dim(d.gray(c.reference))}`)});let l="npx thirdweb@latest deploy";if((0,ai.existsSync)(t+"/package.json")){let c=Lt(),f=c==="yarn";JSON.parse((0,ai.readFileSync)(t+"/package.json","utf-8"))?.scripts?.deploy===l&&(l=`${c}${f?"":" run"} deploy`)}y.info(""),j("Once you're done writing your contracts, you can run the following command to deploy them:").info(),y.info(""),y.info(`     ${d.cyan(l)}`),y.info("")})}function jc(e,t=[],r=[],n="__ROOT__"){if(!e)return{enabledFeatures:t,suggestedFeatures:r};for(let i in e){let o=e[i];o.enabled?t.push(o):(t.findIndex(a=>a.name===n)>-1||Tn.includes(o.name))&&r.push(o),jc(o.features,t,r,o.name)}return{enabledFeatures:t,suggestedFeatures:r}}var jo=require("@thirdweb-dev/storage");var yr=require("ethers"),br=require("fs");var Ic=x(require("path"));var $c="0x0000000000000000000000000000000000000000",Ro={upgradeable:{name:"RouterUpgradeableFactory",metadataUri:"ipfs://QmdqXhoJg9RfDDURHxtHKDprh3VvyWEwZWVtQvnvXMannF",bytecodeUri:"ipfs://QmS63fhpjFFSzGXhM9deRSVaqWvEHEN9gcDkwNjiLr5oiV/1"},"non-upgradeable":{name:"RouterImmutableFactory",metadataUri:"ipfs://QmPMmcxK7RwQfcRwS8kmFU2hLWRLWpgcsESeXeFHM8W3Wp",bytecodeUri:"ipfs://QmS63fhpjFFSzGXhM9deRSVaqWvEHEN9gcDkwNjiLr5oiV/0"},"thirdweb-router":{name:"TWRouterFactory",metadataUri:"ipfs://QmbrV9NUBZAXqoSHpdTzxsZjtubdqumgt6WTMLV8RW3tkV",bytecodeUri:"ipfs://QmYjMfB1uhnnsdz6qmmc3bBAv8jmnniCkjXpDU6jGN8H5s/1"}};var Do="https://thirdweb.com",Fo=Ac(),Nt=Fo.version;async function wr(e,t,r){let n=new jo.ThirdwebStorage({secretKey:r});y.setSettings({minLevel:e.debug?"debug":"info"});let i=process.cwd();e.path&&(y.debug("Overriding project path to "+e.path),i=e.path.startsWith("/")?e.path:Ic.default.resolve(`${i}/${e.path}`)),y.debug("Processing project at path "+i);let o=e.zksync?"hardhat":await lt(i,e);if(o==="none"){if(t==="deploy")return F("No contracts detected in this directory. Redirecting to the thirdweb contract explore page."),"https://thirdweb.com/explore";ur("No detected contracts in this directory."),y.info(""),j("Detected contract files must end with the '.sol' extension and exist in this directory or the '/contracts' subdirectory").info(),y.info(""),j("To create a new contracts project, run the following command:").info(),y.info(""),y.info(`     ${d.cyan("npx thirdweb@latest create --contract")}`),y.info(""),process.exit(1)}if(e.ci){y.info("Installing dependencies...");try{switch(o){case"foundry":{await Y("npm install",i),await Y("forge install",i);break}default:{await Y("npm install",i);break}}}catch(b){y.warn("Could not install dependencies",b)}}let a,s=ne("Compiling project...");try{a=await ct(i,o,e)}catch(b){s.fail("Compilation failed"),y.error(b),process.exit(1)}s.succeed("Compilation successful"),a.contracts.length===0&&(y.error("No deployable contract detected. Run with the '--debug' option to see what contracts were skipped and why."),process.exit(1));let l={name:"",metadataUri:"",bytecodeUri:""};if(e.dynamic){let b=Object.keys(Ro).map(_=>({title:_,value:_})),h="",m=await Pc(b,"Choose a router to deploy");typeof m.routerType=="string"&&(h=m.routerType.trim()),l=Ro[h]}e.dynamic&&!l&&(ur("No router selected. Please select a router contract to deploy."),process.exit(1)),e.dynamic&&!l.name&&(ur("No router selected. Please select a router contract to deploy."),process.exit(1));let c=[];if(a.contracts.length===1)c=[a.contracts[0]],F(`Processing contract: ${d.blueBright(c.map(b=>`"${b.name}"`).join(", "))}`);else if(e.ci)c=a.contracts;else{let b=a.contracts.filter(w=>typeof e.file=="string"&&e.file.length>0?w.fileName.includes(e.file):!0).filter(w=>typeof e.contractName=="string"&&e.contractName.length>0?w.name.includes(e.contractName):!0);b.length===0&&(y.error("No contracts found matching the specified filters."),process.exit(1));let h=b.map(w=>a.contracts.filter(v=>v.name===w.name).length>1?{name:`${w.name} - ${d.gray(w.fileName)}`,value:w}:{name:w.name,value:w}),_=await Mt(h,e.dynamic?"Choose which extensions to add to your contract":`Choose which contract(s) to ${t}`).run();c=Object.keys(_).map(w=>_[w])}c.length===0&&(ur(`No contract selected. Please select at least one contract to ${t}.`),process.exit(1)),e.dryRun&&(F("Dry run, skipping deployment"),process.exit(0));let f="@thirdweb-dev/contracts",p=!1;if(e.dynamic)if(l.name==="thirdweb-router"){let b={extensionRegistry:$c,extensionNames:c.map(m=>m.name)},h=JSON.stringify(b,void 0,2);(0,br.writeFileSync)("./deployArgs.json",h,"utf-8"),F("Deployment parameters written to deployArgs.json in your project directory")}else{let b=await Bd(c,r),h=JSON.stringify(b,void 0,2);(0,br.writeFileSync)("./deployArgs.json",h,"utf-8"),F("Deployment parameters written to deployArgs.json in your project directory")}let u=ne("Uploading contract data...");try{for(let v=0;v<c.length;v++){let C=c[v];if(C.sources)for(let $=0;$<C.sources.length;$=$+3){let q=C.sources.slice($,$+3);y.debug(`Uploading Sources:
${q.join(`
`)}
`),await Promise.all(q.map(async X=>{let Ce=(0,br.readFileSync)(X,"utf-8");return Ce.includes(f)&&(p=!0),await n.upload(Ce,{uploadWithoutDirectory:!0})}))}}let b=await Promise.all(c.map(async v=>(y.debug(`Uploading ${v.name}...`),await n.upload(JSON.parse(JSON.stringify(v.metadata)),{uploadWithoutDirectory:!0})))),h=c.map(v=>v.bytecode),m=await n.uploadBatch(h),_=[];if(e.dynamic){let v={command:t,contract_name:l.name,cli_version:Nt,project_type:o,from_ci:e.ci||!1,uses_contract_extensions:p};_.push({name:l.name,metadataUri:l.metadataUri,bytecodeUri:l.bytecodeUri,analytics:v})}else _=c.map((v,C)=>{let R={command:t,contract_name:v.name,cli_version:Nt,project_type:o,from_ci:e.ci||!1,uses_contract_extensions:p};return{name:v.name,metadataUri:b[C],bytecodeUri:m[C],analytics:R}});let w=[];if(_.length===1){let v=await n.upload(_[0],{uploadWithoutDirectory:!0});w.push(v)}else w=await n.uploadBatch(_);return u.succeed("Upload successful"),Nd(w,t)}catch(b){throw u.fail("Error uploading metadata"),b}}function Nd(e,t){let r;if(e.length===1)r=new URL(Do+`/contracts/${t}/`+encodeURIComponent(e[0].replace("ipfs://","")));else{r=new URL(Do+"/contracts/"+t);for(let n of e)r.searchParams.append("ipfs",n.replace("ipfs://",""))}return r}async function Bd(e,t){let r=new jo.ThirdwebStorage({secretKey:t}),n=[],i=[];for(let o of e){let a={name:o.name,metadataURI:await qd(o,r),implementation:yr.ethers.constants.AddressZero},s=JSON.parse(o.metadata).output.abi,l=new yr.ethers.utils.Interface(s),c=[],f=l.functions;for(let p of Object.keys(f))c.push({functionSelector:l.getSighash(f[p]),functionSignature:p});n.push({metadata:a,functions:c}),i.push({name:o.name,amount:0,salt:yr.ethers.utils.keccak256(yr.ethers.utils.toUtf8Bytes(o.name)),bytecode:o.bytecode})}return{extensions:n,extensionDeployArgs:i}}async function qd(e,t){return await t.upload(JSON.parse(JSON.stringify(e.metadata)),{uploadWithoutDirectory:!0})}var Gc=x(require("inquirer"));var Oc=require("fs"),xr=class{constructor(){this.packageManagerType="npm"}matches(t){return(0,Oc.existsSync)(t+"/package-lock.json")}};var Mc=require("fs"),_r=class{constructor(){this.packageManagerType="yarn"}matches(t){return(0,Mc.existsSync)(t+"/yarn.lock")}};var Lc=require("fs"),vr=class{constructor(){this.packageManagerType="pnpm"}matches(t){return["/pnpm-lock.yaml","/pnpm-workspace.yaml","/.pnpm"].some(n=>(0,Lc.existsSync)(t+n))}};var Nc=require("fs"),kr=class{constructor(){this.packageManagerType="pip"}matches(t){return(0,Nc.existsSync)(t+"/requirements.txt")}};var Bc=require("fs"),Sr=class{constructor(){this.packageManagerType="pipenv"}matches(t){return["/Pipfile","/Pipfile.lock"].some(n=>(0,Bc.existsSync)(t+n))}};var qc=require("fs"),Er=class{constructor(){this.packageManagerType="poetry"}matches(t){return["/pyproject.toml","/poetry.lock"].some(n=>(0,qc.existsSync)(t+n))}};var $o=require("fs"),Tr=class{constructor(){this.packageManagerType="brownie"}matches(t){let n=["/brownie-config.yaml","/brownie-config.json"].some(a=>(0,$o.existsSync)(t+a)),o=["/build","/contracts","/reports"].every(a=>(0,$o.existsSync)(t+a));return n||o||!1}};var Uc=require("fs"),Cr=class{constructor(){this.packageManagerType="foundry"}matches(t){return["/foundry.toml","/lib/forge-std/"].some(i=>(0,Uc.existsSync)(t+i))||!1}};var Wc=require("fs"),Pr=class{constructor(){this.packageManagerType="go-modules"}matches(t){return(0,Wc.existsSync)(t+"/go.mod")}};async function ft(e,t){let n=[new xr,new _r,new vr,new kr,new Sr,new Er,new Pr,new Tr,new Cr].filter(o=>o.matches(e)).map(o=>o.packageManagerType);if(!n.length)return"none";if(n.length===1)return n[0];if(n.includes("brownie")&&n.includes("pip"))return"brownie";F(`Detected multiple possible package managers: ${n.map(o=>`"${o}"`).join(", ")}`);let i="We detected multiple possible package managers, which one do you want to use?";return t.ci?n[0]:(await Gc.default.prompt({type:"list",choices:n,name:i}))[i]}var Jl=x(require("inquirer"));var Vo=require("fs");var Go=x(require("@iarna/toml")),Te=require("fs"),Al=x(require("path"));var jl=x(Wo());async function G(e,t,r=!1,n){return new Promise((i,o)=>{let a=(0,jl.spawn)(e,t);a.stdout?.on("data",s=>{n&&n(s),r&&console.log(s.toString())}),a.stderr?.on("data",s=>{r&&console.error(s.toString())}),a.on("error",s=>{console.log("Spawn error",s)}),a.on("close",s=>{if(s!==0){o({command:`${e}`,exitCode:s});return}i()})})}function $l(e){return Object.entries(e).map(([t,r])=>{let n="";return typeof r=="string"?n=r:typeof r=="object"&&(n=r.version),n=n.replace("^",""),`${t}==${n}`})}var D=e=>{let t=JSON.parse(e.toString()),r=t.dependencies||{},n=t.devDependencies||{},i=t.peerDependencies||{};return{dependencies:r,devDependencies:n,peerDependencies:i}},mm=e=>({dependencies:e.toString().split(`
`)}),hm=e=>{let t=Go.parse(e),r=t.packages||[],n=t["dev-packages"]||[];return{dependencies:r,devDependencies:n}},gm=e=>{let t=Go.parse(e),r=t.tool.poetry.dependencies||[],n=t.tool.poetry["dev-dependencies"]||[];return{dependencies:$l(r),devDependencies:$l(n)}},Je=e=>{let t=[],r=e.split(`
`);return r.forEach(n=>{if(n=n.trim(),n.startsWith("require (")){let i=r.indexOf(n)+1;for(;i<r.length&&r[i].trim()!==")";){let o=r[i].trim(),[a,s]=o.split(" ");t.push({name:a,version:s}),i++}}}),{dependencies:t}},Ve=(e,t)=>{let r=e.split(`
`);return r.forEach(()=>{if(r.includes(t))return!0}),!1},te=(e,t)=>{let r=[],n=[];switch(t){case"pip":if(!(0,Te.existsSync)(e+"/requirements.txt"))break;let o=(0,Te.readFileSync)(e+"/requirements.txt");r=mm(o).dependencies;break;case"pipenv":if(!(0,Te.existsSync)(e+"Pipfile"))break;let s=(0,Te.readFileSync)(e+"Pipfile","utf-8"),l=hm(s);r=l.dependencies,n=l.devDependencies;break;case"poetry":if(!(0,Te.existsSync)(e+"/pyproject.toml"))break;let f=(0,Te.readFileSync)(e+"/pyproject.toml","utf-8");r=gm(f).dependencies;break;default:break}return{dependencies:r,devDependencies:n}},ym=async e=>{try{let t=(await import("node-fetch")).default,r=`https://registry.npmjs.org/${e}`,n=await t(r);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return(await n.json())["dist-tags"].latest}catch(t){console.error(`Failed to get latest version of ${e}:`,t)}},Jo=async(e,t,r,n,i)=>{let o="",a=[],s=[],l=[],c=i?.debug||!1;switch(e){case"npm":o="npm",a=["install"],s=["install","--legacy-peer-deps"];break;case"yarn":o="yarn",a=["add"],s=["add"];break;case"pnpm":o="pnpm",a=["install"],s=["update"];break;case"pip":o="pip",a=["install"],s=["install","--upgrade"];break;case"pipenv":o="pipenv",a=["install"],s=["update"];break;case"poetry":o="poetry",a=["add"],s=["update"];break;case"go-modules":o="go",a=["get"],s=["get","-u"];break;case"brownie":o="brownie",a=["pm","install"],s=["pm","update"],l=["pm","delete"];break;case"foundry":o="forge",a=["install","--no-commit"],s=["update"],l=["remove"];break;default:break}if(n==="install"){if(!t.length)return;let f=[...a,...t];await G(o,f,c),i?.oldVersion&&await G(o,[...l,i.oldVersion],c)}if(n==="update"){if(!r.length)return;let f=[...s,...r];await G(o,f,c)}},Il=async e=>{let r=(await bm()).match(e);return r!==null?{package:r[0],exists:!0}:{package:"",exists:!1}},bm=async()=>{let e="";return await G("brownie",["pm","list"],!0,t=>{e+=t.toString()}),e=e.replace(/\u001b\[\d+(;\d+)*m/g,""),e},Ol=async(e,t)=>{let r=Al.default.join(e,"lib",t);return(0,Te.existsSync)(r)},Ml=e=>{let r=(0,Te.readFileSync)(e+"/go.mod","utf-8").split(`
`),n=[];for(let i of r)if(i.includes("github.com/thirdweb-dev")){let o=i.split(/\s+/),a=o[1].trim(),s=o[2];n.push({name:a,version:s})}return n},Ll=async e=>{let{detectedPackageManager:t,thirdwebDepsToUpdate:r,thirdwebDepsToInstall:n,isJSPackageManager:i}=e;if(i&&(r.has("@thirdweb-dev/contracts")||n.add("@thirdweb-dev/contracts")),t==="brownie"){let o=await ym("@thirdweb-dev/contracts");if(r.has(`thirdweb-dev/contracts@${o}`))return Promise.reject("You already have the latest version of thirdweb-dev/contracts installed.");r.has(`thirdweb-dev/contracts@${o}`)||n.add(`thirdweb-dev/contracts@${o}`)}t==="foundry"&&(r.has("lib/thirdweb-contracts")||n.add("thirdweb-contracts=thirdweb-dev/contracts"))},Nl=async e=>{let{detectedFramework:t,thirdwebDepsToUpdate:r,thirdwebDepsToInstall:n,hasEthers:i,isJSPackageManager:o,otherDeps:a,isPythonPackageManager:s,isGoPackageManager:l,detectedLibrary:c}=e,p=["react","react-native","next","gatsby","cra","remix","vue","vite","svelte"].includes(t),u=c==="react-native";o&&(!r.has("@thirdweb-dev/react")&&p&&n.add("@thirdweb-dev/react"),!r.has("@thirdweb-dev/sdk")&&!u&&n.add("@thirdweb-dev/sdk"),!r.has("@thirdweb-dev/react-native")&&u&&n.add("@thirdweb-dev/react-native"),!r.has("@thirdweb-dev/react-native-compat")&&u&&n.add("@thirdweb-dev/react-native-compat"),i||a.add("ethers@5")),s&&(r.has("thirdweb-sdk")||n.add("thirdweb-sdk")),l&&(r.has("github.com/thirdweb-dev/go-sdk/v2")||n.add("github.com/thirdweb-dev/go-sdk/v2"))};var Rr=class{constructor(){this.frameworkType="brownie"}matches(t,r){let{dependencies:n,devDependencies:i}=te(t,r),a=["/brownie-config.yaml","/brownie-config.json"].some(c=>(0,Vo.existsSync)(t+c)),l=["/build","/contracts","/reports"].every(c=>(0,Vo.existsSync)(t+c));return!!n.find(c=>c.includes("brownie"))||!!i.find(c=>c.includes("brownie"))||a||l||!1}};var ci=require("fs");var Dr=class{constructor(){this.frameworkType="cra"}matches(t){let r=t+"/package.json";if(!(0,ci.existsSync)(r))return!1;let n=(0,ci.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n);return!!i["react-scripts"]||!!o["react-scripts"]||!1}};var Bl=require("fs");var Fr=class{constructor(){this.frameworkType="django"}matches(t,r){let{dependencies:n,devDependencies:i}=te(t,r),a=["/manage.py"].some(s=>(0,Bl.existsSync)(t+s));return!!n.find(s=>s.includes("Django"))||!!i.find(s=>s.includes("Django"))||a||!1}};var pt=require("fs");var jr=class{constructor(){this.frameworkType="echo"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,pt.existsSync)(r)&&!(0,pt.existsSync)(n))return!1;if((0,pt.existsSync)(r)){let s=(0,pt.readFileSync)(r,"utf-8"),{dependencies:l}=Je(s);i=["github.com/labstack/echo"].some(f=>l.some(p=>p.name===f))}let o=(0,pt.readFileSync)(n,"utf-8"),a=Ve(o,"github.com/labstack/echo");return i||a||!1}};var $r=require("fs");var Ar=class{constructor(){this.frameworkType="expo"}matches(t){let r=t+"/package.json";if(!(0,$r.existsSync)(r))return!1;let n=(0,$r.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n),s=["/app.json","/app.config.js"].some(c=>(0,$r.existsSync)(t+c));return!!i.expo||!!o.expo||s||!1}};var ql=require("fs");var Ir=class{constructor(){this.frameworkType="fastapi"}matches(t,r){let{dependencies:n,devDependencies:i}=te(t,r),a=[].some(s=>(0,ql.existsSync)(t+s));return!!n.find(s=>s.includes("fastapi"))||!!i.find(s=>s.includes("fastapi"))||a||!1}};var Or=require("fs");var Mr=class{constructor(){this.frameworkType="fastify"}matches(t){let r=t+"/package.json";if(!(0,Or.existsSync)(r))return!1;let n=(0,Or.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n),s=[].some(c=>(0,Or.existsSync)(t+c));return!!i.fastify||!!o.fastify||s||!1}};var ut=require("fs");var Lr=class{constructor(){this.frameworkType="fiber"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,ut.existsSync)(r)&&!(0,ut.existsSync)(n))return!1;if((0,ut.existsSync)(r)){let s=(0,ut.readFileSync)(r,"utf-8"),{dependencies:l}=Je(s);i=["github.com/gofiber/fiber"].some(f=>l.some(p=>p.name===f))}let o=(0,ut.readFileSync)(n,"utf-8"),a=Ve(o,"github.com/gofiber/fiber");return i||a||!1}};var Ul=require("fs");var Nr=class{constructor(){this.frameworkType="flask"}matches(t,r){let{dependencies:n,devDependencies:i}=te(t,r),a=[].some(s=>(0,Ul.existsSync)(t+s));return!!n.find(s=>s.includes("Flask"))||!!i.find(s=>s.includes("Flask"))||a||!1}};var Wl=require("fs"),Br=class{constructor(){this.frameworkType="foundry"}matches(t){return["/foundry.toml","/lib/forge-std/"].some(i=>(0,Wl.existsSync)(t+i))||!1}};var qr=require("fs");var Ur=class{constructor(){this.frameworkType="gatsby"}matches(t){let r=t+"/package.json";if(!(0,qr.existsSync)(r))return!1;let n=(0,qr.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n),s=["/gatsby.config.js","/gatsby-config.ts"].some(c=>(0,qr.existsSync)(t+c));return!!i.gatsby||!!o.gatsby||s||!1}};var dt=require("fs");var Wr=class{constructor(){this.frameworkType="gin"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,dt.existsSync)(r)&&!(0,dt.existsSync)(n))return!1;if((0,dt.existsSync)(r)){let s=(0,dt.readFileSync)(r,"utf-8"),{dependencies:l}=Je(s);i=["github.com/gin-gonic/gin"].some(f=>l.some(p=>p.name===f))}let o=(0,dt.readFileSync)(n,"utf-8"),a=Ve(o,"github.com/gin-gonic/gin");return i||a||!1}};var Gr=require("fs");var Jr=class{constructor(){this.frameworkType="hardhat"}matches(t){let r=t+"/package.json";if(!(0,Gr.existsSync)(r))return!1;let n=(0,Gr.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n),s=["/hardhat.config.js"].some(c=>(0,Gr.existsSync)(t+c));return!!i.hardhat||!!o.hardhat||s||!1}};var Vr=require("fs");var Hr=class{constructor(){this.frameworkType="next"}matches(t){let r=t+"/package.json";if(!(0,Vr.existsSync)(r))return!1;let n=(0,Vr.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n),s=["/next.config.js","/next-config.ts"].some(c=>(0,Vr.existsSync)(t+c));return!!i.next||!!o.next||s||!1}};var Gl=require("fs");var zr=class{constructor(){this.frameworkType="populus"}matches(t,r){let{dependencies:n,devDependencies:i}=te(t,r),a=["/populus.json","/populus.yaml"].some(s=>(0,Gl.existsSync)(t+s));return!!n.find(s=>s==="populus")||!!i.find(s=>s==="populus")||a||!1}};var Yr=require("fs");var Kr=class{constructor(){this.frameworkType="react-native-cli"}matches(t){let r=t+"/package.json";if(!(0,Yr.existsSync)(r))return!1;let n=(0,Yr.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n),s=[].some(l=>(0,Yr.existsSync)(t+l));return!!i["react-native"]||!!o["react-native"]||s||!1}};var Xr=require("fs");var Zr=class{constructor(){this.frameworkType="remix"}matches(t){let r=t+"/package.json";if(!(0,Xr.existsSync)(r))return!1;let n=(0,Xr.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n),s=["/remix.config.js","/remix-config.ts"].some(c=>(0,Xr.existsSync)(t+c));return Object.keys(i).concat(Object.keys(o)).filter(c=>c.startsWith("@remix-run/")).length>0||s||!1}};var mt=require("fs");var Qr=class{constructor(){this.frameworkType="revel"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,mt.existsSync)(r)&&!(0,mt.existsSync)(n))return!1;if((0,mt.existsSync)(r)){let s=(0,mt.readFileSync)(r,"utf-8"),{dependencies:l}=Je(s);i=["github.com/revel/revel"].some(f=>l.some(p=>p.name===f))}let o=(0,mt.readFileSync)(n,"utf-8"),a=Ve(o,"github.com/revel/revel");return i||a||!1}};var en=require("fs");var tn=class{constructor(){this.frameworkType="truffle"}matches(t){let r=t+"/package.json";if(!(0,en.existsSync)(r))return!1;let n=(0,en.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n),s=["/truffle.config.js","/truffle.js"].some(l=>(0,en.existsSync)(t+l));return!!i.truffle||!!o.truffle||s||!1}};var li=require("fs");var rn=class{constructor(){this.frameworkType="vite"}matches(t){let r=t+"/package.json";if(!(0,li.existsSync)(r))return!1;let n=(0,li.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n);return!!i.vite||!!o.vite||!1}};var nn=require("fs");var on=class{constructor(){this.frameworkType="vue"}matches(t){let r=t+"/package.json";if(!(0,nn.existsSync)(r))return!1;let n=(0,nn.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n),s=["/vue.config.js"].some(l=>(0,nn.existsSync)(t+l));return!!i.vue||!!o.vue||s||!1}};var fi=require("fs"),an=class{constructor(){this.frameworkType="zenject"}matches(t){let r=(0,fi.existsSync)(t+"/Assets/Zenject"),n=(0,fi.existsSync)(t+"/Assets/Zenject/OptionalExtras/Zenject.dll"),i=(0,fi.existsSync)(t+"/Assets/Scripts/ProjectContext.cs");return r||n||i||!1}};async function ht(e,t,r){let i=[new Rr,new Dr,new Fr,new jr,new Ar,new Ir,new Mr,new Lr,new Nr,new Br,new Ur,new Wr,new Jr,new Hr,new zr,new Kr,new Zr,new Qr,new tn,new on,new rn,new an].filter(a=>a.matches(e,r)).map(a=>a.frameworkType);if(!i.length)return"none";if(i.length===1)return i[0];if(i.includes("expo")&&i.includes("react-native-cli"))return"expo";F(`Detected multiple possible frameworks: ${i.map(a=>`"${a}"`).join(", ")}`);let o="We detected multiple possible frameworks which one do you want to use?";return t.ci?i[0]:(await Jl.default.prompt({type:"list",choices:i,name:o}))[o]}var Vl=x(require("inquirer"));var pi=require("fs");var sn=class{constructor(){this.libraryType="express"}matches(t){let r=t+"/package.json";if(!(0,pi.existsSync)(r))return!1;let n=(0,pi.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n);return i.express||o.express||!1}};var Ho=require("fs"),cn=class{constructor(){this.libraryType="playmaker"}matches(t){let r=(0,Ho.existsSync)(t+"/Assets/PlayMaker"),n=(0,Ho.existsSync)(t+"/Editor/PlayMaker.dll");return r||n||!1}};var ui=require("fs");var ln=class{constructor(){this.libraryType="react"}matches(t){let r=t+"/package.json";if(!(0,ui.existsSync)(r))return!1;let n=(0,ui.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n);return i.react||o.react||!1}};var di=require("fs");var fn=class{constructor(){this.libraryType="react-native"}matches(t){let r=t+"/package.json";if(!(0,di.existsSync)(r))return!1;let n=(0,di.readFileSync)(r),{dependencies:i,devDependencies:o}=D(n);return i["react-native"]||o["react-native"]||!1}};var pn=class{constructor(){this.libraryType="web3py"}matches(t,r){let{dependencies:n,devDependencies:i}=te(t,r);return!!n.find(o=>o.includes("web3"))||!!i.find(o=>o.includes("web3"))||!1}};async function un(e,t,r){let i=[new sn,new ln,new fn,new pn,new cn].filter(a=>a.matches(e,r)).map(a=>a.libraryType);if(!i.length)return"none";if(i.length===1)return i[0];if(i.includes("react-native")&&i.includes("react"))return"react-native";F(`Detected multiple possible libraries: ${i.map(a=>`"${a}"`).join(", ")}`);let o="We detected multiple possible libraries which one do you want to use?";return t.ci?i[0]:(await Vl.default.prompt({type:"list",choices:i,name:o}))[o]}var Xl=x(require("inquirer"));var Hl=require("fs"),dn=class{constructor(){this.languageType="javascript"}matches(t){let r=/\.js$/;return(0,Hl.readdirSync)(t).some(i=>i.match(r))}};var zl=require("fs"),mn=class{constructor(){this.languageType="typescript"}matches(t){let r=/\.ts$/;return(0,zl.readdirSync)(t).some(i=>i.match(r))}};var Yl=require("fs"),hn=class{constructor(){this.languageType="python"}matches(t){let r=/\.py$/;return(0,Yl.readdirSync)(t).some(i=>i.match(r))}};var Kl=require("fs"),gn=class{constructor(){this.languageType="go"}matches(t){let r=/\.go$/;return(0,Kl.readdirSync)(t).some(i=>i.match(r))}};async function zo(e,t){let n=[new dn,new mn,new hn,new gn].filter(o=>o.matches(e)).map(o=>o.languageType);if(!n.length)return"none";if(n.length===1)return n[0];if(n.includes("typescript")&&n.includes("javascript"))return"typescript";F(`Detected multiple possible languages: ${n.map(o=>`"${o}"`).join(", ")}`);let i="We detected multiple possible languages which one do you want to use?";return t.ci?n[0]:(await Xl.default.prompt({type:"list",choices:n,name:i}))[i]}var Zl=x(require("path"));var mi=["brownie","foundry","hardhat","truffle","solc","none"];var Ql=require("@thirdweb-dev/sdk");var hi=require("fs");async function ef(e){y.setSettings({minLevel:e.debug?"debug":"info"});let t=process.cwd();e.path&&(y.debug("Overriding project path to "+e.path),t=e.path.startsWith("/")?e.path:Zl.default.resolve(`${t}/${e.path}`)),y.debug("Processing project at path "+t);let r=await ft(t,e),n=await zo(t,e),i=await un(t,e,r),o=await ht(t,e,r),a=o!=="none"&&mi.includes(o)?"contract":"app",s=a==="contract"?o:"none";if(y.info("Detected package manager: "+r),y.info("Detected library: "+i),y.info("Detected language: "+n),y.info("Detected framework: "+o),y.info("Detected app type: "+a),a==="contract"){let l,c=ne("Compiling project...");try{l=await ct(t,s,e)}catch(u){c.fail("Compilation failed"),y.error(u),process.exit(1)}c.succeed("Compilation successful");let f=[];if(l.contracts.length===1)f=[l.contracts[0]];else if(e.all)f=l.contracts;else{let u=l.contracts.map(m=>({name:m.name,value:m})),h=await Mt(u,"Choose which contracts to run detection on").run();f=Object.keys(h).map(m=>h[m])}f.map(u=>{let b=JSON.parse(u.metadata).output.abi,h=tf((0,Ql.detectFeatures)(b)),m=h.enabledFeatures.map(w=>({name:w.name,reference:`https://portal.thirdweb.com/interfaces/${w.name.toLowerCase()}`})),_=h.suggestedFeatures.map(w=>({name:w.name,reference:`https://portal.thirdweb.com/interfaces/${w.name.toLowerCase()}`}));return{name:u.name,enabledFeatures:m,suggestedFeatures:_}}).map(u=>{y.info(`
`),u.enabledFeatures.length===0?j(`No extensions detected on ${d.blueBright(u.name)}`).stopAndPersist({symbol:"\u{1F50E}"}):(j(`Detected extension on ${d.blueBright(u.name)}`).stopAndPersist({symbol:"\u{1F50E}"}),u.enabledFeatures.map(h=>{y.info(`\u2714\uFE0F ${d.green(h.name)}`)})),y.info(""),j("Suggested extensions").info(),u.suggestedFeatures.map(h=>{y.info(`${d.dim(d.gray("-"))} ${d.gray(h.name)} - ${d.dim(d.gray(h.reference))}`)});let b="npx thirdweb@latest deploy";if((0,hi.existsSync)(t+"/package.json")){let h=Lt(),m=h==="yarn";JSON.parse((0,hi.readFileSync)(t+"/package.json","utf-8"))?.scripts?.deploy===b&&(b=`${h}${m?"":" run"} deploy`)}y.info(""),j("Once you're done writing your contracts, you can run the following command to deploy them:").info(),y.info(""),y.info(`     ${d.cyan(b)}`),y.info("")})}}function tf(e,t=[],r=[],n="__ROOT__"){if(!e)return{enabledFeatures:t,suggestedFeatures:r};for(let i in e){let o=e[i];o.enabled?t.push(o):(t.findIndex(a=>a.name===n)>-1||Tn.includes(o.name))&&r.push(o),tf(o.features,t,r,o.name)}return{enabledFeatures:t,suggestedFeatures:r}}var rf="2.7.6";function nf(){return new Promise(async(e,t)=>{try{await G("ruby",["-v"],!1,r=>{let i=String(r).split(" ")[1];i.includes(rf)?e():(console.log(),console.error(`Your current ruby version: ${d.red(`"${i}"`)}, is not supported by this project.`),console.error(`Please, set your ruby version to ${d.green(`"${rf}"`)} and try again.`),console.error("For more information, please visit the React Native documentation: https://reactnative.dev/docs/environment-setup#ruby"),console.log(),process.exit(1))})}catch(r){t(r)}})}var of=x(require("got/dist/source")),af=async e=>{try{return(await of.default.get(`https://raw.githubusercontent.com/thirdweb-example/${e}/main/package.json`).json())?.scripts?.dev?"dev":"start"}catch{return}};var He=require("child_process"),sf=x(require("path")),cf=x(require("rimraf"));function wm(){try{return(0,He.execSync)("git rev-parse --is-inside-work-tree",{stdio:"ignore"}),!0}catch{}return!1}function xm(){try{return(0,He.execSync)("hg --cwd . root",{stdio:"ignore"}),!0}catch{}return!1}function gi(e){let t=!1;try{return(0,He.execSync)("git --version",{stdio:"ignore"}),wm()||xm()?!1:((0,He.execSync)("git init",{stdio:"ignore"}),t=!0,(0,He.execSync)("git checkout -b main",{stdio:"ignore"}),(0,He.execSync)("git add -A",{stdio:"ignore"}),(0,He.execSync)('git commit -m "Initial commit from npx thirdweb create"',{stdio:"ignore"}),!0)}catch{if(t)try{cf.default.sync(sf.default.join(e,".git"))}catch{}return!1}}var lf=x(Wo());function yn(e,t,{packageManager:r,isOnline:n,devDependencies:i}){let o=[],a=[];return new Promise((s,l)=>{let c,f=r,p=r==="yarn";t&&t.length?p?(c=["add","--exact"],n||c.push("--offline"),c.push("--cwd",e),i&&c.push("--dev"),c.push(...t)):(c=["install","--save-exact"],c.push(i?"--save-dev":"--save"),c.push(...t)):(c=["install"],n||(console.log(d.yellow("You appear to be offline.")),p?(console.log(d.yellow("Falling back to the local Yarn cache.")),console.log(),c.push("--offline")):console.log())),p?c.push(...a):c.push(...o),(0,lf.default)(f,c,{stdio:"inherit",env:{...process.env,ADBLOCK:"1",DISABLE_OPENCOLLECTIVE:"1"}}).on("close",b=>{if(b!==0){l({command:`${f} ${c.join(" ")}`});return}s()})})}var Yo=x(require("fs")),ff=x(require("path"));function yi(e,t){let r=[".DS_Store",".git",".gitattributes",".gitignore",".gitlab-ci.yml",".hg",".hgcheck",".hgignore",".idea",".npmignore",".travis.yml","LICENSE","Thumbs.db","docs","mkdocs.yml","npm-debug.log","yarn-debug.log","yarn-error.log"],n=Yo.default.readdirSync(e).filter(i=>!r.includes(i)).filter(i=>!/\.iml$/.test(i));if(n.length>0){console.log(`The directory ${d.green(t)} contains files that could conflict:`),console.log();for(let i of n)try{Yo.default.lstatSync(ff.default.join(e,i)).isDirectory()?console.log(`  ${d.blue(i)}/`):console.log(`  ${i}`)}catch{console.log(`  ${i}`)}return console.log(),console.log("Either try using a new directory name, or remove the files listed above."),console.log(),!1}return!0}var pf=require("child_process"),Ko=x(require("dns")),uf=x(require("url"));function _m(){if(process.env.https_proxy)return process.env.https_proxy;try{let e=(0,pf.execSync)("npm config get https-proxy").toString().trim();return e!=="null"?e:void 0}catch{return}}function bi(){return new Promise(e=>{Ko.default.lookup("registry.yarnpkg.com",t=>{if(!t)return e(!0);let r=_m();if(!r)return e(!1);let{hostname:n}=uf.default.parse(r);if(!n)return e(!1);Ko.default.lookup(n,i=>{e(i===null)})})})}var wi=x(require("fs"));async function xi(e){try{return await wi.default.promises.access(e,(wi.default.constants||wi.default).W_OK),!0}catch{return!1}}var df=x(require("fs"));function _i(e,t={recursive:!0}){return df.default.promises.mkdir(e,t)}var mf=x(require("path"));function hf(e,t){return new Promise(async(r,n)=>{t||(console.log(d.yellow("You appear to be offline.")),console.log(),n());try{await G("bundle",["install"],!0)}catch(i){n(i)}console.log("Running pod install...");try{process.chdir(mf.default.join(e,"ios")),await G("pod",["install"],!0),process.chdir(e),r()}catch(i){process.chdir(e),n(i)}})}var Xo=x(require("got")),gf=require("stream"),yf=x(require("tar")),bf=require("util"),vm=(0,bf.promisify)(gf.Stream.pipeline);async function km(e){return(await Xo.default.head(e).catch(r=>r)).statusCode===200}function Zo(e){return km(`https://api.github.com/repos/thirdweb-example/${encodeURIComponent(e)}`)}function bn(e,{name:t,filePath:r}){return vm(Xo.default.stream(`https://codeload.github.com/thirdweb-example/${t}/tar.gz/main`),yf.default.extract({cwd:e,strip:r?r.split("/").length+1:1},[`${t}-main${r?`/${r}`:""}`]))}var Qo=x(require("async-retry"));var wn=x(require("fs")),ea=x(require("os")),gt=x(require("path")),ze=class extends Error{};async function wf({appPath:e,packageManager:t,framework:r,language:n,template:i,chain:o}){let a="";i?await Zo(i)||(console.error(`Could not locate the repository for ${d.red(`"${i}"`)}. Please check that the repository exists and try again.`),process.exit(1)):r&&(a=`${r}-${n||"javascript"}-${o==="solana"?"solana-":""}starter`,await Zo(a)||(console.error(`Something went wrong with the ${d.red(`"${r}"`)} framework. Please try again.`),process.exit(1)));let s=i?.includes("react-native")||r==="react-native";function l(){return s&&(n==="typescript"||i&&!i.includes("expo"))}function c(){return process.platform==="darwin"}l()&&c()&&await nf();let f=gt.default.resolve(e);await xi(gt.default.dirname(f))||(console.error("The application path is not writable, please check folder permissions and try again."),console.error("It is likely you do not have write permissions for this folder."),process.exit(1));let p=gt.default.basename(f);await _i(f),yi(f,p)||process.exit(1);let u=t==="yarn",b=!u||await bi(),h=process.cwd();console.log(`Creating a new thirdweb app in ${d.green(f)}.`),console.log(),process.chdir(f);function m(v){return typeof v=="object"&&v!==null&&typeof v.message=="string"}if(i){try{console.log(`Downloading files from repo ${d.cyan(i)}. This might take a moment.`),console.log(),await(0,Qo.default)(()=>bn(f,{name:i,filePath:""}),{retries:3})}catch(R){throw new ze(m(R)?R.message:String(R))}let v=gt.default.join(f,"package.json"),C=wn.default.readFileSync(v);try{let R=JSON.parse(C.toString());R&&(R.name=p),wn.default.writeFileSync(v,JSON.stringify(R,null,2)+ea.default.EOL)}catch{console.log("Failed to re-name package.json, continuing..."),console.log()}console.log("Installing packages. This might take a couple of minutes."),console.log(),await yn(f,null,{packageManager:t,isOnline:b}),console.log()}else if(r){try{console.log(`Downloading files with framework ${d.cyan(r)}. This might take a moment.`),await(0,Qo.default)(()=>bn(f,{name:a,filePath:""}),{retries:3})}catch(v){throw new ze(m(v)?v.message:String(v))}try{let v=gt.default.join(f,"package.json"),C=wn.default.readFileSync(v),R=JSON.parse(C.toString());R&&(R.name=p),wn.default.writeFileSync(v,JSON.stringify(R,null,2)+ea.default.EOL)}catch{console.log("Failed to re-name package.json, continuing..."),console.log()}console.log("Installing packages. This might take a couple of minutes."),console.log(),await yn(f,null,{packageManager:t,isOnline:b}),console.log()}l()&&c()&&await hf(f,b),gi(f)&&(console.log("Initialized a git repository."),console.log());let _;gt.default.join(h,p)===e?_=p:_=e;let w;r&&(r.includes("next")||r.includes("vite"))?w="dev":i&&(w=await af(i)),console.log(`${d.green("Success!")} Created ${p} at ${e}`),console.log("Inside that directory, you can run several commands:"),console.log(),s?(console.log(d.cyan(`  ${t}${u||w==="start"?"":"run "} android`)),console.log("    Runs your app on an Android emulator or device."),console.log(),console.log(d.cyan(`  ${t}${u||w==="start"?"":"run "} ios`)),console.log("    Runs your app on an iOS emulator or device."),console.log()):w&&(console.log(d.cyan(`  ${t} ${u||w==="start"?"":"run "}${w}`)),console.log("    Starts the development server."),console.log(),console.log(d.cyan(`  ${t} ${u||w==="start"?"":"run "}build`)),console.log("    Builds the app for production."),console.log()),console.log("We suggest that you begin by typing:"),console.log(),console.log(d.cyan("  cd"),_),w&&!s&&console.log(`  ${d.cyan(`${t} ${u||w==="start"?"":"run "}${w}`)}`),console.log()}var Sm={ERC721Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721Base.sol";

contract Contract is ERC721Base {

      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    )
        ERC721Base(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps
        )
    {}

}`,ERC721SignatureMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721SignatureMint.sol";

contract Contract is ERC721SignatureMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC721SignatureMint(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC721LazyMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721LazyMint.sol";

contract Contract is ERC721LazyMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC721LazyMint(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC721DelayedReveal:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721DelayedReveal.sol";

contract Contract is ERC721DelayedReveal {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC721DelayedReveal(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC721Drop:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721Drop.sol";

contract Contract is ERC721Drop {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC721Drop(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC1155Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155Base.sol";

contract Contract is ERC1155Base {

      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    )
        ERC1155Base(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps
        )
    {}

}`,Staking721Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking721Base.sol";

contract Contract is Staking721Base {
      constructor(
        address _defaultAdmin,
        uint256 _timeUnit,
        uint256 _rewardsPerUnitTime,
        address _nftCollection,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking721Base(
            _defaultAdmin,
            _timeUnit,
            _rewardsPerUnitTime,
            _nftCollection,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`,ERC1155SignatureMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155SignatureMint.sol";

contract Contract is ERC1155SignatureMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC1155SignatureMint(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC1155LazyMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155LazyMint.sol";

contract Contract is ERC1155LazyMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC1155LazyMint(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC1155DelayedReveal:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155DelayedReveal.sol";

contract Contract is ERC1155DelayedReveal {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC1155DelayedReveal(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC1155Drop:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155Drop.sol";

contract Contract is ERC1155Drop {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC1155Drop(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,Staking1155Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking1155Base.sol";

contract Contract is Staking1155Base {
      constructor(
        address _defaultAdmin,
        uint256 _defaultTimeUnit,
        uint256 _defaultRewardsPerUnitTime,
        address _stakingToken,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking1155Base(
            _defaultAdmin,
            _defaultTimeUnit,
            _defaultRewardsPerUnitTime,
            _stakingToken,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`,ERC20Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Base.sol";

contract Contract is ERC20Base {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol
    )
        ERC20Base(
            _defaultAdmin,
            _name,
            _symbol
        )
    {}
}`,ERC20Vote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Vote.sol";

contract Contract is ERC20Vote {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol
    )
        ERC20Vote(
            _defaultAdmin,
            _name,
            _symbol
        )
    {}
}`,ERC20SignatureMint:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20SignatureMint.sol";

contract Contract is ERC20SignatureMint {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20SignatureMint(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20SignatureMintVote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20SignatureMintVote.sol";

contract Contract is ERC20SignatureMintVote {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20SignatureMintVote(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20Drop:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Drop.sol";

contract Contract is ERC20Drop {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20Drop(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20DropVote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20DropVote.sol";

contract Contract is ERC20DropVote {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20DropVote(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,Staking20Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking20Base.sol";

contract Contract is Staking20Base {
      constructor(
        address _defaultAdmin,
        uint256 _timeUnit,
        uint256 _rewardRatioNumerator,
        uint256 _rewardRatioDenominator,
        address _stakingToken,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking20Base(
            _defaultAdmin,
            _timeUnit,
            _rewardRatioNumerator,
            _rewardRatioDenominator,
            _stakingToken,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`},ta=Sm;function xf(e){return ta[e]!==void 0}function ra(e){return ta[e]}function na(e){let t=Em(e).toUpperCase(),r=Tm(e);return`// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.0;

library ${e}Storage {
  bytes32 public constant ${t}_STORAGE_POSITION = keccak256("${r}.storage");

  // Define your contract's state inside the Data struct.
  struct Data {
    // Example: a uint called "number"
    uint256 number;
  }

  /**
    *  Access your state variables using the following pattern (example):
    *  ${e}Storage.Data storage data = ${e}Storage.getStorage();
  **/
  function getStorage() internal pure returns (Data storage data) {
    bytes32 position = ${t}_STORAGE_POSITION;
    assembly {
      data.slot := position
    }
  }
}
  
contract ${e} {

  function readContractState() external view returns (uint256) {
    ${e}Storage.Data storage data = ${e}Storage.getStorage();
    return data.number;
  }

  function writeContractState(uint256 x) external {
    ${e}Storage.Data storage data = ${e}Storage.getStorage();
    data.number = x;
  }
}`}function _f(e,t){return e.replace(/(.)([A-Z][a-z]+)/,`$1${t}$2`).replace(/([a-z0-9])([A-Z])/,`$1${t}$2`).toLowerCase()}function Em(e){return _f(e,"_")}function Tm(e){return _f(e,".")}var Ut=require("fs/promises");async function vf(){await(0,Ut.rm)("script",{recursive:!0,force:!0}),await(0,Ut.rm)(".gitmodules",{recursive:!0,force:!0}),await(0,Ut.rm)("lib",{recursive:!0,force:!0}),await(0,Ut.writeFile)(".gitmodules",""),await G("git",["submodule","add","https://github.com/foundry-rs/forge-std.git","lib/forge-std"]),await G("git",["submodule","update","--init","--recursive"])}var kf=x(require("async-retry"));var Wt=x(require("fs")),xn=require("fs/promises"),K=x(require("path"));function Cm(e){return typeof e=="object"&&e!==null&&typeof e.message=="string"}async function Sf({contractPath:e,packageManager:t,framework:r,contractName:n,baseContract:i,onlyContract:o,createExtension:a}){i&&(xf(i)||(console.error(`Could not locate the base contract for ${d.red(`"${i}"`)}. Please check that the base contract exists and try again.`),process.exit(1)));let s=K.default.resolve(e);await xi(K.default.dirname(s))||(console.error("The application path is not writable, please check folder permissions and try again."),console.error("It is likely you do not have write permissions for this folder."),process.exit(1)),/(^[a-z0-9A-Z]+$)|(^[a-z0-9A-Z]+\.sol$)/.test(n)||(console.error(`Contract name ${d.red(`"${n}"`)} is not valid (only alphanumeric characters are allowed).`),process.exit(1));let l=n.replace(/\.sol$/,"");n=l+".sol";let c=t==="yarn";if(o){if(Wt.default.existsSync(K.default.join(s,n))&&(console.error(`A contract with the name ${d.red(`"${n}"`)} already exists in specified directory.`),process.exit(1)),i&&i.length>0){let f=ra(i),p="";p=K.default.join(s,n),await(0,xn.writeFile)(p,f),console.log(`${d.green("Success!")} Created ${n} at ${e}`)}if(!i&&a){let f=na(l),p="";p=K.default.join(s,n),await(0,xn.writeFile)(p,f),console.log(`${d.green("Success!")} Created your ${n} extension at ${e}`)}}else{let f=K.default.basename(s);await _i(s),yi(s,f)||process.exit(1);let p=!c||await bi(),u=process.cwd();console.log(`Creating a new thirdweb contracts project in ${d.green(s)}.`),console.log(),process.chdir(s);try{console.log("Downloading files. This might take a moment.");let h="";if(r==="hardhat"?h="hardhat-javascript-starter":r==="forge"?h="forge-starter":(console.error("Please provide a valid contracts framework."),process.exit(1)),await(0,kf.default)(()=>bn(s,{name:h,filePath:""}),{retries:3}),i&&i.length>0){let m=ra(i).replace("contract Contract",`contract ${n.replace(".sol","")}`),_="";r==="hardhat"&&(Wt.default.unlinkSync(K.default.join(s,"contracts","Contract.sol")),_=K.default.join(s,"contracts",n)),r==="forge"&&(Wt.default.unlinkSync(K.default.join(s,"src","Contract.sol")),_=K.default.join(s,"src",n)),await(0,xn.writeFile)(_,m)}if(!i&&a){let m=na(l),_="";_=K.default.join(s,n),r==="hardhat"&&(Wt.default.unlinkSync(K.default.join(s,"contracts","Contract.sol")),_=K.default.join(s,"contracts",n)),r==="forge"&&(Wt.default.unlinkSync(K.default.join(s,"src","Contract.sol")),_=K.default.join(s,"src",n)),await(0,xn.writeFile)(_,m)}}catch(h){throw new ze(Cm(h)?h.message:String(h))}console.log("Installing packages. This might take a couple of minutes."),console.log(),await yn(s,null,{packageManager:t,isOnline:p}),console.log(),gi(s)&&(console.log("Initialized a git repository."),console.log()),r==="forge"&&await vf();let b;K.default.join(u,f)===e?b=f:b=e,console.log(`${d.green("Success!")} Created ${f} at ${e}`),console.log(),console.log("Inside that directory, you can run several commands:"),console.log(),console.log(d.cyan(`  ${t}${c?"":" run"} build`)),console.log("    Compiles your contracts and detects thirdweb extensions implemented on them."),console.log(),console.log(d.cyan(`  ${t}${c?"":" run"} deploy`)),console.log("    Deploys your contracts with the thirdweb deploy flow."),console.log(),console.log(d.cyan(`  ${t}${c?"":" run"} publish`)),console.log("    Publishes your contracts with the thirdweb publish flow."),console.log(),console.log("We suggest that you begin by typing:"),console.log(),console.log(d.cyan("  cd"),b),console.log(),r==="forge"&&(await ei()||console.log(`
${d.yellowBright("warning")} You don't have forge installed on this machine, and will need it to run this project! 

You can install forge by following these instructions:
${d.blueBright("https://book.getfoundry.sh/getting-started/installation")}
`))}}var Ef=x(require("validate-npm-package-name"));function ia(e){let t=(0,Ef.default)(e);return t.validForNewPackages?{valid:!0}:{valid:!1,problems:[...t.errors||[],...t.warnings||[]]}}var Gt=x(require("fs")),re=x(require("path")),be=x(require("prompts")),_n="",H="",M="",B="",$e="",vi="",yt="",oa=!1;async function Tf(e,t="",r){if(typeof t=="string"&&(H=t),typeof r.contractName=="string"&&(_n=r.contractName),e==="app"||r.app?M="app":e==="contract"||r.contract?M="contract":(e==="extension"||r.extension)&&(M="extension"),M==="app"&&(r.typescript&&($e="typescript"),r.javascript&&($e="javascript"),r.next&&(B="next"),r.cra&&(B="cra"),r.vite&&(B="vite"),r.node&&(B="node"),r.express&&(B="express"),r.reactNative&&(B="react-native"),r.pwaVite&&(B="pwa-vite"),r.solana&&(yt="solana"),r.evm&&(yt="evm")),M==="contract"&&(r.forge&&(B="forge"),r.hardhat&&(B="hardhat")),r.framework&&(B=r.framework),!M&&!r.template){let c=await(0,be.default)({type:"select",name:"projectType",message:pe.typeOfProject,choices:[{title:"App",value:"app"},{title:"Contract",value:"contract"},{title:"Dynamic Contract Extension",value:"extension"}]});typeof c.projectType=="string"&&(M=c.projectType.trim())}else(!M||r.template)&&(M="app");M==="extension"&&(oa=!0,r.forge&&(B="forge"),r.hardhat&&(B="hardhat"));let n=!1;if(M==="contract"||M==="extension"){let c=re.default.resolve(H),f=await lt(c,{});if(f==="foundry"&&Gt.default.existsSync(re.default.join(c,"src")))n=!0,H=re.default.join(H,"src");else if(f==="hardhat")if(Gt.default.existsSync(re.default.join(c,"contracts")))n=!0,H=re.default.join(H,"contracts");else{let p=Gt.default.readdirSync(c).filter(u=>Gt.default.lstatSync(re.default.join(c,u)).isDirectory());for(let u of p)if(Gt.default.readdirSync(re.default.join(H,u)).some(h=>h.endsWith(".sol"))){n=!0,H=re.default.join(H,u);break}}}if(!n){if(!H){let c=M==="contract"||M==="extension"?"thirdweb-contracts":"thirdweb-app",f=await(0,be.default)({type:"text",name:"path",message:pe.projectName,initial:r.template||c,format:p=>p.toLowerCase(),validate:p=>{let u=ia(re.default.basename(re.default.resolve(p.toLowerCase())));return u.valid||"Invalid project name: "+u.problems?.[0]}});typeof f.path=="string"&&(H=re.default.join(H,f.path.trim()))}if(H||(console.log(`
Please specify the project directory:
  ${d.cyan("npx thirdweb create")} ${d.green("<project-directory>")}
For example:
  ${d.cyan("npx thirdweb create")} ${d.green("my-thirdweb-app")}

Run ${d.cyan("npx thirdweb --help")} to see all options.`),process.exit(1)),!r.template){if(M==="app"&&!yt&&((await(0,be.default)({type:"select",name:"chain",message:pe.chain,choices:[{title:"EVM",value:"evm"},{title:"Solana",value:"solana"}]})).chain==="solana"?yt="solana":yt="evm"),M==="app"&&!B){let c=await(0,be.default)({type:"select",name:"framework",message:pe.framework,choices:yt==="solana"?[{title:"Next.js",value:"next"},{title:"Create React App",value:"cra"},{title:"Node.js",value:"node"},{title:"Express",value:"express"}]:[{title:"Next.js",value:"next"},{title:"Create React App",value:"cra"},{title:"Vite",value:"vite"},{title:"PWA Vite",value:"pwa-vite"},{title:"React Native",value:"react-native"},{title:"Node.js",value:"node"},{title:"Express",value:"express"}]});typeof c.framework=="string"&&(B=c.framework.trim())}if(M==="app"&&!$e)if(B==="react-native"){let c=await(0,be.default)({type:"select",name:"project",message:pe.reactNative,choices:[{title:"Expo Project",value:"expo"},{title:"React Native CLI",value:"typescript"}]});typeof c.project=="string"&&($e=c.project.trim())}else if(B==="pwa-vite"||B==="pwa-next")$e="typescript";else{let c=await(0,be.default)({type:"select",name:"language",message:pe.language,choices:[{title:"JavaScript",value:"javascript"},{title:"TypeScript",value:"typescript"}]});typeof c.language=="string"&&($e=c.language.trim())}if((M==="contract"||M==="extension")&&B!=="forge"&&B!=="hardhat"){let c=await(0,be.default)({type:"select",name:"framework",message:pe.framework,choices:[{title:"Hardhat",value:"hardhat"},{title:"Forge",value:"forge"}]});typeof c.framework=="string"&&(B=c.framework.trim())}B||(console.log("Please specify a framework"),process.exit(1)),$e||($e="javascript")}}if(M==="contract"||M==="extension"){if(!_n){let c="MyContract",f=await(0,be.default)({type:"text",name:"path",message:M==="extension"?pe.extensionName:pe.contractName,initial:c,validate:p=>/(^[a-z0-9A-Z]+$)|(^[a-z0-9A-Z]+\.sol$)/.test(p)?!0:"Invalid contract name 'contractName' (only alphanumeric characters allowed)"});typeof f.path=="string"&&(_n=f.path.trim()),_n||(console.log(`
Please specify the contract name:
  ${d.cyan("npx thirdweb create --contract --name")} ${d.green("<contract-name>")}
For example:
  ${d.cyan("npx thirdweb create --contract --name")} ${d.green("MyContract")}

Run ${d.cyan("npx thirdweb --help")} to see all options.`),process.exit(1))}if(M==="contract"&&!vi&&!oa){let c="none",f=await(0,be.default)({type:"select",name:"standard",message:pe.contract,choices:[...n?[]:[{title:"Empty Contract",value:"none"}],{title:"ERC721",value:"erc721"},{title:"ERC20",value:"erc20"},{title:"ERC1155",value:"erc1155"}]});if(typeof f.standard=="string"&&(c=f.standard.trim()),c==="none")vi="";else{let p=[];c==="erc721"?p=[{title:"None",value:"ERC721Base"},{title:"Signature Mint",value:"ERC721SignatureMint"},{title:"Lazy Mint",value:"ERC721LazyMint"},{title:"Delayed Reveal",value:"ERC721DelayedReveal"},{title:"Drop",value:"ERC721Drop"}]:c==="erc20"?p=[{title:"None",value:"ERC20Base"},{title:"Vote",value:"ERC20Vote"},{title:"Signature Mint",value:"ERC20SignatureMint"},{title:"Vote + Signature Mint",value:"ERC20SignatureMintVote"},{title:"Drop",value:"ERC20Drop"},{title:"Vote + Drop",value:"ERC20DropVote"}]:c==="erc1155"&&(p=[{title:"None",value:"ERC1155Base"},{title:"Signature Mint",value:"ERC1155SignatureMint"},{title:"Lazy Mint",value:"ERC1155LazyMint"},{title:"Delayed Reveal",value:"ERC1155DelayedReveal"},{title:"Drop",value:"ERC1155Drop"}]);let u=await(0,be.default)({type:"select",name:"baseContract",message:pe.extensions,choices:p});typeof u.baseContract=="string"&&(vi=u.baseContract.trim())}}}H=re.default.resolve(H);let i=re.default.basename(H),{valid:o,problems:a}=ia(i);o||(console.error(`Could not create a project called ${d.red(`"${i}"`)} because of npm naming restrictions:`),a?.forEach(c=>console.error(`    ${d.red.bold("*")} ${c}`)),process.exit(1)),r.template===!0&&(console.error("Please provide an template name, otherwise remove the template option. Checkout some templates you can use here: https://github.com/thirdweb-example/"),process.exit(1));let s=r.useNpm?"npm":r.usePnpm?"pnpm":Lt(),l=typeof r.template=="string"?r.template.trim():void 0;try{M==="app"?await wf({appPath:H,packageManager:s,framework:B,language:$e,template:l,chain:yt}):await Sf({contractPath:H,packageManager:s,framework:B,contractName:_n,baseContract:vi,onlyContract:n,createExtension:oa})}catch(c){if(!(c instanceof ze))throw c}}function aa(e,t){let r=e.split("/");if(r.length>1)return`https://thirdweb.com/dashboard/${r[0]}/${r[1]}${t?`/${t}`:""}`;{let i={"signature-drop":"SignatureDrop","nft-drop":"DropERC721","edition-drop":"DropERC1155","nft-collection":"TokenERC721",edition:"TokenERC1155","token-drop":"DropERC20",token:"TokenERC20",marketplace:"Marketplace",split:"Split",vote:"VoteERC20",pack:"Pack",multiwrap:"Multiwrap"}[e];return i?`https://thirdweb.com/dashboard/${i}`:void 0}}var Pf=require("@thirdweb-dev/storage");var bt=x(require("fs")),ki=x(require("path"));function Cf(e,t){let r=[],n=bt.default.lstatSync(e);if(n.isFile()){let i=ki.default.relative(t,e),o=bt.default.readFileSync(e);r.push({name:i,data:o})}else n.isDirectory()&&bt.default.readdirSync(e).forEach(o=>{let a=ki.default.join(e,o);Cf(a,t).forEach(l=>r.push(l))});return r}async function Si(e,t){if(!t)return Promise.reject("No path provided");if(!bt.default.existsSync(t))return Promise.reject("Invalid path provided");let n="",i=bt.default.lstatSync(t);if(i.isDirectory()){let o=Cf(t,t);if(o.length===0)return Promise.reject("No files detected in specified directory");let a=ne("Uploading directory to IPFS. This may take a while depending on file sizes.");try{let s=await e.uploadBatch(o);a.succeed("Successfully uploaded directory to IPFS"),n=s[0].substring(0,s[0].lastIndexOf("/"))}catch(s){return a.fail("Failed to upload directory to IPFS."),Promise.reject(s)}}else if(i.isFile()){let o=ki.default.parse(t).base,a=bt.default.readFileSync(t),s={name:o,data:a},l=ne("Uploading file to IPFS. This may take a while depending on file sizes.");try{n=await e.upload(s,{uploadWithoutDirectory:!0})}catch(c){return l.fail("Failed to upload file to IPFS."),Promise.reject(c)}l.succeed("Successfully uploaded file to IPFS.")}else return Promise.reject("Invalid path provided");return n}async function Rf(e="dist",t=".",r){let n=new Pf.ThirdwebStorage({secretKey:r}),i=await ft(t,{}),o=await ht(t,{},i);if(o==="none")throw new Error("No supported project detected");switch(o){case"next":e="out";break;case"cra":e="build";break;default:break}y.info(`Detected project type: ${o}`),y.info(`Detected package manager: ${i}`),y.info(`distPath: ${e}`),y.info(`projectPath: ${t}`);try{switch(i){case"yarn":await G("yarn",["build"],!0),o==="next"&&await G("yarn",["next","export"],!0);break;case"npm":await G("npm",["run","build"],!0),o==="next"&&await G("npx",["next","export"],!0);break;case"pnpm":await G("pnpm",["build"],!0),o==="next"&&await G("pnpm",["next","export"],!0);break;default:throw new Error("No supported package manager detected")}}catch{return console.error("Can't build project"),Promise.reject("Can't build project")}try{return`${(await Si(n,e)).replace("ipfs://","https://cf-ipfs.com/ipfs/")}`}catch(a){return console.error("Can't upload project",a),Promise.reject("Can't upload project")}}async function Df(e,t){if(e.name){let n=aa(e.name,e.contractVersion);if(!n){y.error(d.red(`Could not find a contract named ${e.name} ${e.contractVersion||""}`));return}return F(`Open this link to deploy your contract: ${d.blueBright(n)}`),n.toString()}if(e.app)try{let n=await Rf(e.distPath,e.path,t);return F(`Here is the link to your app: ${d.blueBright(n.toString())}`),n.toString()}catch(n){return y.error("Failed to deploy app, No compatible project found",n),Promise.reject("failed to deploy app, no compatible project found")}let r=await wr(e,"deploy",t);return F(`Open this link to deploy your contracts: ${d.blueBright(r.toString())}`),r.toString()}var Af=require("@thirdweb-dev/chains"),Ei=require("@thirdweb-dev/sdk"),If=require("@thirdweb-dev/storage"),ee=x(require("fs"));var Of=x(require("prompts"));var Ff=require("@thirdweb-dev/sdk"),jf=x(require("prompts")),sa=require("@thirdweb-dev/chains"),$f=sa.allChains.map(e=>({title:e.slug}));async function ca(e,t,r){let n=[];await Promise.all(e.map(async i=>{let o=[];if(await Promise.all(t.map(async a=>{let s=(0,Ff.getChainProvider)(a,{});try{let l=await s.getCode(i);if(!l||l==="0x")return;o.push(a)}catch{return}})),!!o.length){if(o.length===1){r.push({address:i,chainId:o[0]});return}n.push({address:i,chains:o.map(a=>({slug:sa.allChains[a].slug,chainId:a}))})}}));for(let i of n){let o=await(0,jf.default)({type:"select",name:"chainId",message:`What chain is smart contract '${i.address}' on?`,choices:i.chains.map(a=>({title:a.slug,value:a.chainId}))});r.push({address:i.address,chainId:o.chainId})}}async function Mf(e,t){let r=e.path?.replace(/\/$/,"")||".",n=[],i=[];if(To(r,/(0x[a-fA-F0-9]{40})/g,i),ee.default.existsSync(`${r}/thirdweb.json`)){let u=JSON.parse(ee.default.readFileSync(`${r}/thirdweb.json`,"utf-8")),b=u.contracts.map(m=>m.address.toLowerCase()),h=Array.from(new Set(i)).filter(m=>!b.includes(m.toLowerCase()));if(n=[...u.contracts],h.length){let m=u.chainIds;if(await ca(h,m,n),n.length>u.contracts.length){ee.default.writeFileSync(`${r}/thirdweb.json`,JSON.stringify({chainIds:m,contracts:n},void 0,2));let _=n.length-u.contracts.length;F(`Updated thirdweb.json with ${_} new contract${_===1?"":"s"}`)}}}else{let b=(await(0,Of.default)({type:"autocompleteMultiselect",name:"chains",message:_c.chains,choices:$f})).chains.map(h=>Af.allChains[h].chainId);await ca(i,b,n),ee.default.writeFileSync(`${r}/thirdweb.json`,JSON.stringify({chainIds:b,contracts:n},void 0,2)),F(`Created a thirdweb.json file with configuration for ${n.length} contract${n.length===1?"":"s"} detected in your project.

 - You can also update this configuration manually by editing the file.
`)}j("Downloading ABIs for contracts configured in 'thirdweb.json'").info();let o=new If.ThirdwebStorage({secretKey:t}),a=[];await Promise.all(n.map(async u=>{let b=(0,Ei.getChainProvider)(u.chainId,{}),h;try{h=await(0,Ei.fetchContractMetadataFromAddress)(u.address,b,o)}catch{j(`Unable to download ABI for contract ${u.address}, skipping.`).warn();return}a.push({address:u.address,metadata:h})}));let s=`${r}/node_modules/@thirdweb-dev/generated-abis/dist`;ee.default.existsSync(s)||(j("Unable to cache ABIs. Please ensure that you have the latest @thirdweb-dev/sdk package installed.").fail(),process.exit(1)),[`${s}/thirdweb-dev-generated-abis.cjs.js`,`${s}/thirdweb-dev-generated-abis.esm.js`].forEach(u=>{if(!ee.default.existsSync(u))return;let b=ee.default.readFileSync(u,"utf-8"),h=/GENERATED_ABI = \{.*\};\n\n/s,m=a.reduce((v,C)=>(v[C.address]=C.metadata.abi,v),{}),_=JSON.stringify(m,null,2),w=b.replace(h,`GENERATED_ABI = ${_};

`);ee.default.writeFileSync(u,w)});{let u=`${s}/declarations/src/index.d.ts`;if(!ee.default.existsSync(u))return;let b=ee.default.readFileSync(u,"utf-8"),h=/GENERATED_ABI: \{.*\}/s,m=a.reduce((v,C)=>(v[C.address]=C.metadata.abi,v),{}),_=JSON.stringify(m,null,2),w=b.replace(h,`GENERATED_ABI: ${_}`);ee.default.writeFileSync(u,w)}j(`Downloaded and cached ABIs for ${a.length} smart contract${a.length===1?"":"s"}`).succeed();let c=`${r}/package.json`;if(!ee.default.existsSync(c))return;let f=JSON.parse(ee.default.readFileSync(c,"utf-8"));if(f.scripts?.postinstall?.includes("thirdweb generate")||f.scripts?.postinstall?.includes("thirdweb@latest generate"))return;let p=f.scripts?.postinstall?f.scripts.postinstall+"npx --yes thirdweb@latest generate":"npx --yes thirdweb@latest generate";ee.default.writeFileSync(c,JSON.stringify({...f,scripts:{...f.scripts,postinstall:p}},void 0,2)),j(`Added 'npx thirdweb generate' to postinstall in package.json.

 - This is necessary to use 'thirdweb generate' in production.
`).info()}var la=require("child_process");async function Lf(){if(await Pm())return{packageManager:await import("detect-package-manager").then(({detect:o})=>o()),isGlobal:!1};if(await Rm())return{packageManager:"npm",isGlobal:!0};if(await Dm())return{packageManager:"yarn",isGlobal:!0};if(await Fm())return{packageManager:"pnpm",isGlobal:!0}}async function Pm(){let e=await fa("npm ls --depth=0");return Ti(e||[])}async function Rm(){let e=await fa("npm ls -g --depth=0");return Ti(e||[])}async function Dm(){let e=await fa("yarn --cwd `yarn global dir` list");return Ti(e||[])}async function Fm(){let e=await new Promise(t=>{(0,la.exec)("pnpm list -g --depth=0",(r,n)=>{let i=[];i=n.split("dependencies:")[1]?.trim().split(`
`)||[],i=i.map(o=>o.replace(" ","@")),t(i)})});return Ti(e||[])}function Ti(e){return e.some(t=>t.match(/^thirdweb/))}async function fa(e){return new Promise(t=>{(0,la.exec)(e,(r,n)=>{let i=[];i=n.split(`
`),i=i.filter(function(o){if(o.match(/^├─.+/g)!==null||o.match(/^└─.+/g)!==null)return!0}),i=i.map(function(o){if(o.match(/^├─.+/g)!==null)return o.replace(/(^├──\s|^├─\s)/g,"");if(o.match(/^└─.+/g)!==null)return o.replace(/(^└──\s|^├─\s)/g,"")}).filter(o=>!!o),t(i)})})}var Ci=require("fs");var pa=x(require("inquirer"));var jm=["@thirdweb-dev/chain-icons"];async function Nf(e=".",t){let r=t.debug||!1,n,i,o={},a={},s=[],l=[],c={},f=[],p=new Set,u=new Set,b={package:"",exists:!1},h=!1,m=await ft(e,t),_=await ht(e,t,m),w=await un(e,t,m),v=_!=="none"&&mi.includes(_)?"contract":"app",C=m==="brownie",R=m==="foundry",$=m==="go-modules",q=["pip","pipenv","poetry"].includes(m),X=["yarn","pnpm","npm"].includes(m);if(X){let S=e+"/package.json";if(!(0,Ci.existsSync)(S)){console.error("No package.json file found. Please run this command in the root of your project.");return}let ue=(0,Ci.readFileSync)(S),we=D(ue);o=we.dependencies,a=we.devDependencies,c=we.peerDependencies}if(q){let S=te(e,m);s=S.dependencies,l=S.devDependencies}C&&(b=await Il(/\s*thirdweb-dev\/contracts@\d+\.\d+\.\d+/g)),R&&(h=await Ol(e,"thirdweb-contracts")),$&&(f=Ml(e));let Ce=!!o?.ethers||!!a?.ethers,Ae=X?t.dev?"@dev":t.nightly?"@nightly":"":"",Q=new Set([...Object.keys(o).filter(S=>S.startsWith("@thirdweb-dev/")),...Object.keys(a).filter(S=>S.startsWith("@thirdweb-dev/")),...Object.keys(c).filter(S=>S.startsWith("@thirdweb-dev/")),...s.filter(S=>S.startsWith("thirdweb-sdk")).map(S=>S.split("==")[0]),...l.filter(S=>S.startsWith("thirdweb-sdk")).map(S=>S.split("==")[0]),...f.filter(S=>(console.log("dep",S),S.name==="github.com/thirdweb-dev/go-sdk/v2")).map(S=>S.name)].concat(b.exists?[b.package]:[]).concat(h?["lib/thirdweb-contracts"]:[]));if(v==="contract"?Ll({detectedPackageManager:m,thirdwebDepsToUpdate:Q,thirdwebDepsToInstall:p,isJSPackageManager:X}):v==="app"&&Nl({detectedLibrary:w,detectedFramework:_,hasEthers:Ce,isGoPackageManager:$,isJSPackageManager:X,isPythonPackageManager:q,otherDeps:u,thirdwebDepsToInstall:p,thirdwebDepsToUpdate:Q}),jm.forEach(S=>{Q.delete(S),p.delete(S)}),p.size!==0){let S=await pa.default.prompt({type:"checkbox",choices:[...p],message:"Which thirdweb dependencies would you like to install?",name:"dependencies",default:[...p]});S.dependencies.length!==p.size&&(p.clear(),S.dependencies.forEach(ue=>p.add(ue)))}if(Q.size!==0){let S=await pa.default.prompt({type:"checkbox",choices:[...Q],message:"Which thirdweb dependencies would you like to update?",name:"dependencies",default:[...Q]});S.dependencies.length!==Q.size&&(Q.clear(),S.dependencies.forEach(ue=>Q.add(ue)))}if(p.size===0&&Q.size===0){console.log("No thirdweb dependencies to install or update.");return}r&&(y.info("Detected package manager: "+m),y.info("Detected library: "+w),y.info("Detected framework: "+_),y.info("Detected app type: "+v));try{let S=[...[...p].map(we=>`${we}${Ae}`),...u],ue=[...Q].map(we=>`${we}${Ae}`);p.size!==0&&(n=j(`Installing: "${[...p].join('", "')}"`).start(),await Jo(m,S,[],"install",{oldVersion:b.package,debug:r}),n?.succeed(`Installed: "${S.join('", "')}"`)),Q.size!==0&&(i=j(`Updating: "${[...Q].join('", "')}"`).start(),await Jo(m,[],ue,"update",{debug:r}),i?.succeed(`Updated: "${ue.join('", "')}"`))}catch(S){return console.error("Can't install within project: ",S),Promise.reject("Can't install within project")}}var $m=async()=>{let e=process.env.THIRDWEB_CLI_SKIP_INTRO==="true",t=new qf.Command,r=new Jf.default("thirdweb-cli",{location:Wf.default.join(Uf.default.homedir(),".thirdweb","creds")});e||(console.info(`
    $$\\     $$\\       $$\\                 $$\\                         $$\\       
    $$ |    $$ |      \\__|                $$ |                        $$ |      
  $$$$$$\\   $$$$$$$\\  $$\\  $$$$$$\\   $$$$$$$ |$$\\  $$\\  $$\\  $$$$$$\\  $$$$$$$\\  
  \\_$$  _|  $$  __$$\\ $$ |$$  __$$\\ $$  __$$ |$$ | $$ | $$ |$$  __$$\\ $$  __$$\\ 
    $$ |    $$ |  $$ |$$ |$$ |  \\__|$$ /  $$ |$$ | $$ | $$ |$$$$$$$$ |$$ |  $$ |
    $$ |$$\\ $$ |  $$ |$$ |$$ |      $$ |  $$ |$$ | $$ | $$ |$$   ____|$$ |  $$ |
    \\$$$$  |$$ |  $$ |$$ |$$ |      \\$$$$$$$ |\\$$$$$\\$$$$  |\\$$$$$$$\\ $$$$$$$  |
     \\____/ \\__|  \\__|\\__|\\__|       \\_______| \\_____\\____/  \\_______|\\_______/ `),console.info(`
 \u{1F48E} thirdweb-cli v${Nt} \u{1F48E}
`)),t.name("thirdweb-cli").description("Official thirdweb command line interface").version(Nt,"-v, --version").option("--skip-update-check","Skip check for auto updates").hook("preAction",async()=>{if(e||t.opts().skipUpdateCheck)return;let n=!0;try{let o=r.get("last-version-check");if(o.isCached){let a=new Date(o.value);Date.now()-a.getTime()<1e3*60*60*24&&(n=!1)}}catch{}if(!n)return;let i=ne("Checking for updates...");await import("update-notifier").then(async({default:o})=>{let s=await o({pkg:Fo,shouldNotifyInNpmScript:!0,updateCheckInterval:0}).fetchInfo();i.stop();try{r.set("last-version-check",new Date().toISOString())}catch{}if(s.type!=="latest"&&(await(0,Gf.default)({type:"toggle",name:"upgrade",message:"A new version of the CLI is available. Would you like to upgrade?",initial:!0,active:"yes",inactive:"no"})).upgrade){let c=ne(`Upgrading CLI to version ${s.latest}...`),f={...process.env};f.THIRDWEB_CLI_SKIP_INTRO="true";let p=await Lf();if(!p)return c.succeed(`Now using CLI version ${s.latest}. Continuing execution...`),await new Promise((h,m)=>{(0,vn.spawn)(`npx --yes thirdweb@latest ${process.argv.slice(2).join(" ")}`,[],{stdio:"inherit",shell:!0,env:f}).on("close",w=>{w===0?h(""):m()})}),process.exit(0);let u="";switch(p.packageManager){case"npm":u=p.isGlobal?"npm install -g thirdweb":"npm install thirdweb";break;case"yarn":u=p.isGlobal?"yarn global add thirdweb":"yarn add thirdweb";break;case"pnpm":u=p.isGlobal?"pnpm add -g thirdweb@latest":"pnpm add thirdweb@latest";break;default:console.error(`Could not detect package manager in use, aborting automatic upgrade.
If you want to upgrade the CLI, please do it manually with your package manager.`),process.exit(1)}await new Promise((h,m)=>{(0,vn.exec)(u,(_,w,v)=>{if(_)return m(_);h({stdout:w,stderr:v})})}),c.succeed(`Successfully upgraded CLI to version ${s.latest}. Continuing execution...`);let b=!p.isGlobal||p.packageManager==="npm"?"npx thirdweb":"thirdweb";await new Promise((h,m)=>{(0,vn.spawn)(`${b} ${process.argv.slice(2).join(" ")}`,[],{stdio:"inherit",shell:!0,env:f}).on("close",w=>w===0?h(""):m())}),process.exit(0)}})}),t.command("install [projectPath]").description("Install thirdweb into your project. If no path is specified, the current directory will be used.").option("--nightly","Install the nightly version of packages.").option("--dev","Install the dev version of packages").option("-d, --debug","show debug logs").action(async(n,i)=>{await Nf(n,i)}),t.command("create [projectType] [projectPath]").description("Create a web3 app from any of our official templates: https://github.com/thirdweb-example/").option("--app","Create a web3 app.").option("--contract","Create a web3 contract project").option("--ts, --typescript","Initialize as a TypeScript project.").option("--js, --javascript","Initialize as a JavaScript project.").option("--forge","Initialize as a Forge project.").option("--hardhat","Initialize as a Hardhat project.").option("--extension","Create a smart contract extension.").option("--cra","Initialize as a Create React App project.").option("--next","Initialize as a Next.js project.").option("--vite","Initialize as a Vite project.").option("--reactNative","Initialize as a React Native project.").option("--express","Initialize as a Express project.").option("--node","Initialize as a Node project.").option("--use-npm","Explicitly tell the CLI to bootstrap the app using npm").option("--use-pnpm","Explicitly tell the CLI to bootstrap the app using pnpm").option("--framework [name]","The preferred framework.").option("--solana","Initialize as a Solana project.").option("--evm","Initialize as an Ethereum project.").option("-t, --template [name]","A template to start your project from. You can use an template repository name from the official thirdweb-example org.").option("-c, --contract-name [name]","Name of the new smart contract to create").action(async(n,i,o)=>{await Tf(n,i,o)}),t.command("build").description("Compile contract and detect thirdweb contract extensions").option("--clean","clear the cache before building").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").option("-a, --all","run detection on all contracts").action(async n=>{await Fc(n)}),t.command("deploy").description("Deploy your (or team) contracts securely to blockchains").option("-p, --path <project-path>","path to project",".").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").option("--dist-path [distPath]","Path to the dist folder where the HTML based App is").option("-n, --name [name]","Name of the pre-built or published contract (such as nft-drop)").option("-f, --file [name]","Filter for contract files that contain this file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("-cv, --contract-version [version]","Version of the published contract").option("--app","Deploy a web app to decentralized storage").option("--contract","Deploy a smart contract to blockchains").option("--dynamic","Deploy a dynamic smart contract made up of extensions to blockchains").option("--zksync","Deploy on ZKSync").option("-k, --key <key>","API key to authorize usage").action(async n=>{let i="";n.key?(await Ke(n.key),i=n.key):i=await Ye(r);let o=await Df(n,i);o&&!n.ci&&await(0,Pi.default)(o)}),t.command("release").description("[Deprecated] use 'publish' instead.").option("-p, --path <project-path>","path to project",".").option("-f, --file [name]","Filter for contract files that contain the file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").option("-k, --key <key>","API key to authorize usage").action(async n=>{let i="";n.key?(await Ke(n.key),i=n.key):i=await Ye(r),y.warn("'release' is deprecated and will be removed in a future update. Please use 'publish' instead.");let o=await wr(n,"publish",i);F(`Open this link to publish your contracts: ${d.blueBright(o.toString())}`),o&&!n.ci&&await(0,Pi.default)(o.toString())}),t.command("publish").description("Publish your protocol so other devs can deploy them and unlock SDKs, Dashboards and Analytics").option("-p, --path <project-path>","path to project",".").option("-f, --file [name]","Filter for contract files that contain the file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").option("-k, --key <key>","API key to authorize usage").action(async n=>{let i="";n.key?(await Ke(n.key),i=n.key):i=await Ye(r);let o=await wr(n,"publish",i);F(`Open this link to publish your contracts: ${d.blueBright(o.toString())}`),o&&!n.ci&&await(0,Pi.default)(o.toString())}),t.command("upload").description("Upload any file or directory to decentralized storage (IPFS)").argument("[upload]","path to file or directory to upload").option("-k, --key <key>","API key to authorize usage").action(async(n,i)=>{let o="";i.key?(await Ke(i.key),o=i.key):o=await Ye(r);let a=new Bf.ThirdwebStorage({secretKey:o});try{let s=await Si(a,n);F(`Files stored at the following IPFS URI: ${d.blueBright(s.toString())}`);let l=a.resolveScheme(s);F(`Open this link to view your upload: ${d.blueBright(l.toString())}`)}catch(s){s.toString()==="No files detected in specified directory"||s.toString()==="Invalid path provided"||s.toString()==="No path provided"?y.error(d.redBright("Please specify a valid file or directory to upload")):y.error(d.redBright("Failed to upload files"),s)}}),t.command("detect").description("Detect the type of project your are running and let you know what it is.").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").action(async n=>{await ef(n)}),t.command("generate").description("Preload ABIs and generate types for your smart contract to strongly type the thirdweb SDK").option("-p, --path <project-path>","path to project",".").option("-k, --key <key>","API key to authorize usage").action(async n=>{let i="";n.key?(await Ke(n.key),i=n.key):i=await Ye(r),await Mf(n,i)}),t.command("login").description("Authenticate with the thirdweb CLI using your API secret key or replace an existing API secret key").option("-n, --new","Login with a new API secret key",!1).action(async n=>{await Ye(r,n,!0)}),t.command("logout").description("Logout of the thirdweb CLI, effectively removing your API secret key from your machine").action(async()=>{await Da(r)}),await t.parseAsync()};$m().then(()=>{process.exit(0)}).catch(e=>{y.error(e),process.exit(1)});
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=index.js.map